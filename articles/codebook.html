<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Codebook Demo • faux</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Codebook Demo">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">faux</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/sim_design.html">Simulate by Design</a></li>
    <li><a class="dropdown-item" href="../articles/rnorm_multi.html">Simulate Correlated Variables</a></li>
    <li><a class="dropdown-item" href="../articles/norta.html">NORTA</a></li>
    <li><a class="dropdown-item" href="../articles/sim_df.html">Simulate from Existing Data</a></li>
    <li><a class="dropdown-item" href="../articles/continuous.html">Continuous Predictors</a></li>
    <li><a class="dropdown-item" href="../articles/plots.html">Plotting</a></li>
    <li><a class="dropdown-item" href="../articles/sim_mixed.html">Mixed Design Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/random_reports.html">Randomised Reports</a></li>
    <li><a class="dropdown-item" href="../articles/distributions.html">Distribution Conversions</a></li>
    <li><a class="dropdown-item" href="../articles/codebook.html">Codebook Demo</a></li>
    <li><a class="dropdown-item" href="../articles/contrasts.html">Contrasts</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/debruine/faux/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Codebook Demo</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/debruine/faux/blob/master/vignettes/articles/codebook.Rmd" class="external-link"><code>vignettes/articles/codebook.Rmd</code></a></small>
      <div class="d-none name"><code>codebook.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/debruine/faux" class="external-link">faux</a></span><span class="op">)</span></span></code></pre></div>
<p>Codebooks in faux follow the <a href="https://docs.google.com/document/d/1u8o5jnWk0Iqp_J06PTu5NjBfVsdoPbBhstht6W0fFp0/edit" class="external-link">Psych-DS
0.1.0 format</a>, which is still in development.</p>
<div class="section level2">
<h2 id="simulated-data">Simulated Data<a class="anchor" aria-label="anchor" href="#simulated-data"></a>
</h2>
<p>When you simulate data with <code>sim_design</code>, the codebook
function reads some parameters of the design.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pet_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_design.html">sim_design</a></span><span class="op">(</span></span>
<span>  between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="st">"Cat Owners"</span>, </span>
<span>                         dog <span class="op">=</span> <span class="st">"Dog Owners"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>  dv <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>happy <span class="op">=</span> <span class="st">"Happiness Score"</span><span class="op">)</span>,</span>
<span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"Subject ID"</span><span class="op">)</span>,</span>
<span>  mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">12</span><span class="op">)</span>,</span>
<span>  sd <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You can set up a codebook with the function <code><a href="../reference/codebook.html">codebook()</a></code>.
If you don’t specify the name, it defaults to the variable name
(<code>pet_data</code>).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; id set to dataType string</span></span>
<span><span class="co">#&gt; pet set to dataType string</span></span>
<span><span class="co">#&gt; happy set to dataType float</span></span></code></pre></div>
<p>If you just type the codebook object into the console, you’ll see the
info in JSON format like this.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cb</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;     "@context": "https://schema.org/",</span></span>
<span><span class="co">#&gt;     "@type": "Dataset",</span></span>
<span><span class="co">#&gt;     "name": "pet_data",</span></span>
<span><span class="co">#&gt;     "schemaVersion": "Psych-DS 0.1.0",</span></span>
<span><span class="co">#&gt;     "variableMeasured": [</span></span>
<span><span class="co">#&gt;         {</span></span>
<span><span class="co">#&gt;             "@type": "PropertyValue",</span></span>
<span><span class="co">#&gt;             "name": "id",</span></span>
<span><span class="co">#&gt;             "description": "Subject ID",</span></span>
<span><span class="co">#&gt;             "dataType": "string"</span></span>
<span><span class="co">#&gt;         },</span></span>
<span><span class="co">#&gt;         {</span></span>
<span><span class="co">#&gt;             "@type": "PropertyValue",</span></span>
<span><span class="co">#&gt;             "name": "pet",</span></span>
<span><span class="co">#&gt;             "description": "pet",</span></span>
<span><span class="co">#&gt;             "levels": {</span></span>
<span><span class="co">#&gt;                 "cat": "Cat Owners",</span></span>
<span><span class="co">#&gt;                 "dog": "Dog Owners"</span></span>
<span><span class="co">#&gt;             },</span></span>
<span><span class="co">#&gt;             "dataType": "string",</span></span>
<span><span class="co">#&gt;             "levelsOrdered": false</span></span>
<span><span class="co">#&gt;         },</span></span>
<span><span class="co">#&gt;         {</span></span>
<span><span class="co">#&gt;             "@type": "PropertyValue",</span></span>
<span><span class="co">#&gt;             "name": "happy",</span></span>
<span><span class="co">#&gt;             "description": "Happiness Score",</span></span>
<span><span class="co">#&gt;             "dataType": "float"</span></span>
<span><span class="co">#&gt;         }</span></span>
<span><span class="co">#&gt;     ]</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; </span></span></code></pre></div>
<p>If you set <code>return</code> to “list”, you get the codebook in an
R list that prints like this.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span>, return <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span></span>
<span><span class="co">#&gt; id set to dataType string</span></span>
<span><span class="co">#&gt; pet set to dataType string</span></span>
<span><span class="co">#&gt; happy set to dataType float</span></span>
<span><span class="va">cb</span></span>
<span><span class="co">#&gt; Codebook for pet_data (Psych-DS 0.1.0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dataset Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * name: pet_data</span></span>
<span><span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Column Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * id (string): Subject ID</span></span>
<span><span class="co">#&gt; * pet (string)</span></span>
<span><span class="co">#&gt;   * Levels</span></span>
<span><span class="co">#&gt;     * cat: Cat Owners</span></span>
<span><span class="co">#&gt;     * dog: Dog Owners</span></span>
<span><span class="co">#&gt;   * Ordered: FALSE</span></span>
<span><span class="co">#&gt; * happy (float): Happiness Score</span></span></code></pre></div>
<p>But the codebook is actually a nested list formatted like this:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">cb</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 5</span></span>
<span><span class="co">#&gt;  $ @context        : chr "https://schema.org/"</span></span>
<span><span class="co">#&gt;  $ @type           : chr "Dataset"</span></span>
<span><span class="co">#&gt;  $ name            : chr "pet_data"</span></span>
<span><span class="co">#&gt;  $ schemaVersion   : chr "Psych-DS 0.1.0"</span></span>
<span><span class="co">#&gt;  $ variableMeasured:List of 3</span></span>
<span><span class="co">#&gt;   ..$ :List of 4</span></span>
<span><span class="co">#&gt;   .. ..$ @type      : chr "PropertyValue"</span></span>
<span><span class="co">#&gt;   .. ..$ name       : chr "id"</span></span>
<span><span class="co">#&gt;   .. ..$ description: chr "Subject ID"</span></span>
<span><span class="co">#&gt;   .. ..$ dataType   : chr "string"</span></span>
<span><span class="co">#&gt;   ..$ :List of 6</span></span>
<span><span class="co">#&gt;   .. ..$ @type        : chr "PropertyValue"</span></span>
<span><span class="co">#&gt;   .. ..$ name         : chr "pet"</span></span>
<span><span class="co">#&gt;   .. ..$ description  : chr "pet"</span></span>
<span><span class="co">#&gt;   .. ..$ levels       :List of 2</span></span>
<span><span class="co">#&gt;   .. .. ..$ cat: chr "Cat Owners"</span></span>
<span><span class="co">#&gt;   .. .. ..$ dog: chr "Dog Owners"</span></span>
<span><span class="co">#&gt;   .. ..$ dataType     : chr "string"</span></span>
<span><span class="co">#&gt;   .. ..$ levelsOrdered: logi FALSE</span></span>
<span><span class="co">#&gt;   ..$ :List of 4</span></span>
<span><span class="co">#&gt;   .. ..$ @type      : chr "PropertyValue"</span></span>
<span><span class="co">#&gt;   .. ..$ name       : chr "happy"</span></span>
<span><span class="co">#&gt;   .. ..$ description: chr "Happiness Score"</span></span>
<span><span class="co">#&gt;   .. ..$ dataType   : chr "float"</span></span>
<span><span class="co">#&gt;  - attr(*, "class")= chr [1:2] "psychds_codebook" "list"</span></span></code></pre></div>
<div class="section level3">
<h3 id="variable-parameters">Variable parameters<a class="anchor" aria-label="anchor" href="#variable-parameters"></a>
</h3>
<p>Above you saw messages about the data type that codebook guesses for
each column. You can override this by setting the values manually.
Below, we’ll create a new column called <code>followup</code> consisting
of 0 and 1 values, change the data type of the column from integer to
boolean (T/F) and also set descriptions for <code>id</code>,
<code>pet</code> and <code>followup</code>. The <code>id</code> column
had a description of “Subject ID” from the <code>sim_design</code>
function, but properties set in using <code>vardesc</code> will override
this. You can also add unobserved levels to a factor.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">pet_data</span><span class="op">$</span><span class="va">followup</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">pet_data</span><span class="op">)</span>, <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vardesc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  dataType <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>followup <span class="op">=</span> <span class="st">"b"</span><span class="op">)</span>,</span>
<span>  description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"Pet ID"</span>,</span>
<span>                  pet <span class="op">=</span> <span class="st">"Pet Type"</span>,</span>
<span>                  followup <span class="op">=</span> <span class="st">"Followed up 2 weeks later"</span></span>
<span>                  <span class="op">)</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="st">"Cat Owners"</span>,</span>
<span>                        dog <span class="op">=</span> <span class="st">"Dog Owners"</span>, </span>
<span>                        ferret <span class="op">=</span> <span class="st">"Ferret Owners"</span><span class="op">)</span>,</span>
<span>                followup <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span> <span class="op">=</span> <span class="st">"No"</span>, <span class="st">"1"</span> <span class="op">=</span> <span class="st">"Yes"</span><span class="op">)</span></span>
<span>            <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">cb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span>, name <span class="op">=</span> <span class="st">"pets"</span>, <span class="va">vardesc</span>, return <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span></span>
<span><span class="co">#&gt; id set to dataType string</span></span>
<span><span class="co">#&gt; pet set to dataType string</span></span>
<span><span class="co">#&gt; happy set to dataType float</span></span>
<span></span>
<span><span class="va">cb</span></span>
<span><span class="co">#&gt; Codebook for pets (Psych-DS 0.1.0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dataset Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * name: pets</span></span>
<span><span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Column Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * id (string): Pet ID</span></span>
<span><span class="co">#&gt; * pet (string): Pet Type</span></span>
<span><span class="co">#&gt;   * Levels</span></span>
<span><span class="co">#&gt;     * cat: Cat Owners</span></span>
<span><span class="co">#&gt;     * dog: Dog Owners</span></span>
<span><span class="co">#&gt;     * ferret: Ferret Owners</span></span>
<span><span class="co">#&gt;   * Ordered: FALSE</span></span>
<span><span class="co">#&gt; * happy (float): Happiness Score</span></span>
<span><span class="co">#&gt; * followup (bool): Followed up 2 weeks later</span></span>
<span><span class="co">#&gt;   * Levels</span></span>
<span><span class="co">#&gt;     * 0: No</span></span>
<span><span class="co">#&gt;     * 1: Yes</span></span>
<span><span class="co">#&gt;   * Ordered: FALSE</span></span></code></pre></div>
<p>You can change the data type of a column in the codebook, but this
won’t affect the data itself unless you set the <code>return</code>
argument to “data”. This runs type conversion on each column and gives
you a warning if type can’t be converted.</p>
<p>Note how we had to change the levels for the variable
<code>followup</code> because we’re converting them to boolean (logical)
values and how the names in the levels vector have to be strings.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vardesc</span><span class="op">$</span><span class="va">levels</span><span class="op">$</span><span class="va">followup</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FALSE"</span> <span class="op">=</span> <span class="st">"No"</span>, <span class="st">"TRUE"</span> <span class="op">=</span> <span class="st">"Yes"</span><span class="op">)</span></span>
<span><span class="va">converted_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span>, <span class="st">"pets"</span>, <span class="va">vardesc</span>, return <span class="op">=</span> <span class="st">"data"</span><span class="op">)</span></span>
<span><span class="co">#&gt; id set to dataType string</span></span>
<span><span class="co">#&gt; pet set to dataType string</span></span>
<span><span class="co">#&gt; happy set to dataType float</span></span>
<span><span class="co">#&gt; Converting pet from int to string</span></span>
<span><span class="co">#&gt; Converting followup from int to bool</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">converted_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;    id pet     happy followup</span></span>
<span><span class="co">#&gt; 1 S01 cat  6.013671     TRUE</span></span>
<span><span class="co">#&gt; 2 S02 cat 12.887297     TRUE</span></span>
<span><span class="co">#&gt; 3 S03 cat  7.531165     TRUE</span></span>
<span><span class="co">#&gt; 4 S04 cat 18.117566     TRUE</span></span>
<span><span class="co">#&gt; 5 S05 dog 16.261664     TRUE</span></span>
<span><span class="co">#&gt; 6 S06 dog 15.948879    FALSE</span></span></code></pre></div>
<p>The codebook is attached to the returned converted data as an
attribute and can be accessed as follows.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">converted_data</span>, <span class="st">"codebook"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Codebook for pets (Psych-DS 0.1.0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dataset Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * name: pets</span></span>
<span><span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Column Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * id (string): Pet ID</span></span>
<span><span class="co">#&gt; * pet (string): Pet Type</span></span>
<span><span class="co">#&gt;   * Levels</span></span>
<span><span class="co">#&gt;     * cat: Cat Owners</span></span>
<span><span class="co">#&gt;     * dog: Dog Owners</span></span>
<span><span class="co">#&gt;     * ferret: Ferret Owners</span></span>
<span><span class="co">#&gt;   * Ordered: FALSE</span></span>
<span><span class="co">#&gt; * happy (float): Happiness Score</span></span>
<span><span class="co">#&gt; * followup (bool): Followed up 2 weeks later</span></span>
<span><span class="co">#&gt;   * Levels</span></span>
<span><span class="co">#&gt;     * FALSE: No</span></span>
<span><span class="co">#&gt;     * TRUE: Yes</span></span>
<span><span class="co">#&gt;   * Ordered: FALSE</span></span></code></pre></div>
<p>You can set other variable parameters than name, type, description,
and levels. The variable parameters that Psych-DS currently supports
are: “description”, “privacy”, “dataType”, “propertyID”, “minValue”,
“maxValue”, “levels”, “ordered”, “na”, “naValues”, “alternateName”, and
“unitCode”. See the <a href="https://docs.google.com/document/d/1u8o5jnWk0Iqp_J06PTu5NjBfVsdoPbBhstht6W0fFp0/edit" class="external-link">technical
specs</a> for descriptions of these properties. You can add custom
parameters, but will get a warning.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span>, vardesc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>new_param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"YES"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in codebook(pet_data, vardesc = list(new_param = c(id = "YES"))): The following variable properties are not standard: new_param</span></span>
<span><span class="co">#&gt; id set to dataType string</span></span>
<span><span class="co">#&gt; pet set to dataType string</span></span>
<span><span class="co">#&gt; happy set to dataType float</span></span>
<span><span class="co">#&gt; followup set to dataType int</span></span></code></pre></div>
<p>If you have a column that is an ordered factor, the codebook will
look like this:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  initial <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">LETTERS</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">initial</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">initial</span>, levels <span class="op">=</span> <span class="va">LETTERS</span>, ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">alevels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"The letter"</span>, <span class="va">LETTERS</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">alevels</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">LETTERS</span></span>
<span></span>
<span><span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">dat</span>, vardesc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>initial <span class="op">=</span> <span class="va">alevels</span><span class="op">)</span><span class="op">)</span>, return <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span></span>
<span><span class="co">#&gt; initial set to dataType string</span></span>
<span><span class="co">#&gt; Codebook for dat (Psych-DS 0.1.0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dataset Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * name: dat</span></span>
<span><span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Column Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * initial (string)</span></span>
<span><span class="co">#&gt;   * Levels</span></span>
<span><span class="co">#&gt;     * A: The letter A</span></span>
<span><span class="co">#&gt;     * B: The letter B</span></span>
<span><span class="co">#&gt;     * C: The letter C</span></span>
<span><span class="co">#&gt;     * D: The letter D</span></span>
<span><span class="co">#&gt;     * E: The letter E</span></span>
<span><span class="co">#&gt;     * F: The letter F</span></span>
<span><span class="co">#&gt;     * G: The letter G</span></span>
<span><span class="co">#&gt;     * H: The letter H</span></span>
<span><span class="co">#&gt;     * I: The letter I</span></span>
<span><span class="co">#&gt;     * J: The letter J</span></span>
<span><span class="co">#&gt;     * K: The letter K</span></span>
<span><span class="co">#&gt;     * L: The letter L</span></span>
<span><span class="co">#&gt;     * M: The letter M</span></span>
<span><span class="co">#&gt;     * N: The letter N</span></span>
<span><span class="co">#&gt;     * O: The letter O</span></span>
<span><span class="co">#&gt;     * P: The letter P</span></span>
<span><span class="co">#&gt;     * Q: The letter Q</span></span>
<span><span class="co">#&gt;     * R: The letter R</span></span>
<span><span class="co">#&gt;     * S: The letter S</span></span>
<span><span class="co">#&gt;     * T: The letter T</span></span>
<span><span class="co">#&gt;     * U: The letter U</span></span>
<span><span class="co">#&gt;     * V: The letter V</span></span>
<span><span class="co">#&gt;     * W: The letter W</span></span>
<span><span class="co">#&gt;     * X: The letter X</span></span>
<span><span class="co">#&gt;     * Y: The letter Y</span></span>
<span><span class="co">#&gt;     * Z: The letter Z</span></span>
<span><span class="co">#&gt;   * Ordered: TRUE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dataset-parameters">Dataset Parameters<a class="anchor" aria-label="anchor" href="#dataset-parameters"></a>
</h3>
<p>You can add extra parameters to the whole data set. Psych-DS supports
the following: “license”, “author”, “citation”, “funder”, “url”,
“sameAs”, “keywords”, “temporalCoverage”, “spatialCoverage”,
“datePublished”, “dateCreated”. As with variable parameters, you can add
custom parameters and will just get a warning.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span>, license <span class="op">=</span> <span class="st">"CC-BY 3.0"</span>, author <span class="op">=</span> <span class="st">"Lisa DeBruine"</span>, source <span class="op">=</span> <span class="st">"faux"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in codebook(pet_data, license = "CC-BY 3.0", author = "Lisa DeBruine", : The following dataset properties are not standard: source</span></span>
<span><span class="co">#&gt; id set to dataType string</span></span>
<span><span class="co">#&gt; pet set to dataType string</span></span>
<span><span class="co">#&gt; happy set to dataType float</span></span>
<span><span class="co">#&gt; followup set to dataType int</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;     "@context": "https://schema.org/",</span></span>
<span><span class="co">#&gt;     "@type": "Dataset",</span></span>
<span><span class="co">#&gt;     "name": "pet_data",</span></span>
<span><span class="co">#&gt;     "schemaVersion": "Psych-DS 0.1.0",</span></span>
<span><span class="co">#&gt;     "license": "CC-BY 3.0",</span></span>
<span><span class="co">#&gt;     "author": "Lisa DeBruine",</span></span>
<span><span class="co">#&gt;     "source": "faux",</span></span>
<span><span class="co">#&gt;     "variableMeasured": [</span></span>
<span><span class="co">#&gt;         {</span></span>
<span><span class="co">#&gt;             "@type": "PropertyValue",</span></span>
<span><span class="co">#&gt;             "name": "id",</span></span>
<span><span class="co">#&gt;             "description": "Subject ID",</span></span>
<span><span class="co">#&gt;             "dataType": "string"</span></span>
<span><span class="co">#&gt;         },</span></span>
<span><span class="co">#&gt;         {</span></span>
<span><span class="co">#&gt;             "@type": "PropertyValue",</span></span>
<span><span class="co">#&gt;             "name": "pet",</span></span>
<span><span class="co">#&gt;             "description": "pet",</span></span>
<span><span class="co">#&gt;             "levels": {</span></span>
<span><span class="co">#&gt;                 "cat": "Cat Owners",</span></span>
<span><span class="co">#&gt;                 "dog": "Dog Owners"</span></span>
<span><span class="co">#&gt;             },</span></span>
<span><span class="co">#&gt;             "dataType": "string",</span></span>
<span><span class="co">#&gt;             "levelsOrdered": false</span></span>
<span><span class="co">#&gt;         },</span></span>
<span><span class="co">#&gt;         {</span></span>
<span><span class="co">#&gt;             "@type": "PropertyValue",</span></span>
<span><span class="co">#&gt;             "name": "happy",</span></span>
<span><span class="co">#&gt;             "description": "Happiness Score",</span></span>
<span><span class="co">#&gt;             "dataType": "float"</span></span>
<span><span class="co">#&gt;         },</span></span>
<span><span class="co">#&gt;         {</span></span>
<span><span class="co">#&gt;             "@type": "PropertyValue",</span></span>
<span><span class="co">#&gt;             "name": "followup",</span></span>
<span><span class="co">#&gt;             "description": "followup",</span></span>
<span><span class="co">#&gt;             "dataType": "int"</span></span>
<span><span class="co">#&gt;         }</span></span>
<span><span class="co">#&gt;     ]</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; </span></span></code></pre></div>
<p>You can also add parameters as lists.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_design.html">sim_design</a></span><span class="op">(</span>plot<span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">author_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"@type"</span> <span class="op">=</span> <span class="st">"Person"</span>,</span>
<span>    <span class="st">"name"</span> <span class="op">=</span> <span class="st">"Melissa Kline"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"@type"</span> <span class="op">=</span> <span class="st">"Person"</span>,</span>
<span>    <span class="st">"name"</span> <span class="op">=</span> <span class="st">"Lisa DeBruine"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">dat</span>, return <span class="op">=</span> <span class="st">"list"</span>, </span>
<span>         author <span class="op">=</span> <span class="va">author_list</span>,</span>
<span>         keywords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"test"</span>, <span class="st">"demo"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; id set to dataType string</span></span>
<span><span class="co">#&gt; y set to dataType float</span></span>
<span><span class="co">#&gt; Codebook for dat (Psych-DS 0.1.0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dataset Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * name: dat</span></span>
<span><span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span></span>
<span><span class="co">#&gt; * author: </span></span>
<span><span class="co">#&gt;     1. </span></span>
<span><span class="co">#&gt;         * @type: Person</span></span>
<span><span class="co">#&gt;         * name: Melissa Kline</span></span>
<span><span class="co">#&gt;     2. </span></span>
<span><span class="co">#&gt;         * @type: Person</span></span>
<span><span class="co">#&gt;         * name: Lisa DeBruine</span></span>
<span><span class="co">#&gt; * keywords: </span></span>
<span><span class="co">#&gt;     1. test</span></span>
<span><span class="co">#&gt;     2. demo</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Column Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * id (string)</span></span>
<span><span class="co">#&gt; * y (float): value</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="existing-data">Existing Data<a class="anchor" aria-label="anchor" href="#existing-data"></a>
</h2>
<p>You can run the codebook function on existing data not created in
faux, but will need to manually input column descriptions and factor
levels.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">vardesc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    mpg <span class="op">=</span> <span class="st">"Miles/(US) gallon"</span>,</span>
<span>    cyl <span class="op">=</span> <span class="st">"Number of cylinders"</span>,</span>
<span>    disp <span class="op">=</span> <span class="st">"Displacement (cu.in.)"</span>,</span>
<span>    hp <span class="op">=</span> <span class="st">"Gross horsepower"</span>,</span>
<span>    drat <span class="op">=</span> <span class="st">"Rear axle ratio"</span>,</span>
<span>    wt <span class="op">=</span> <span class="st">"Weight (1000 lbs)"</span>,</span>
<span>    qsec <span class="op">=</span> <span class="st">"1/4 mile time"</span>,</span>
<span>    vs <span class="op">=</span> <span class="st">"Engine"</span>,</span>
<span>    am <span class="op">=</span> <span class="st">"Transmission"</span>,</span>
<span>    gear <span class="op">=</span> <span class="st">"Number of forward gears"</span>,</span>
<span>    carb <span class="op">=</span> <span class="st">"Number of carburetors"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="co"># min and max values can be set manually or from data</span></span>
<span>  <span class="co"># min and max are often outside the observed range</span></span>
<span>  minValue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mpg <span class="op">=</span> <span class="fl">0</span>, cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  maxValue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  dataType <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    cyl <span class="op">=</span> <span class="st">"integer"</span>,</span>
<span>    hp <span class="op">=</span> <span class="st">"integer"</span>,</span>
<span>    vs <span class="op">=</span> <span class="st">"integer"</span>,</span>
<span>    am <span class="op">=</span> <span class="st">"integer"</span>, </span>
<span>    gear <span class="op">=</span> <span class="st">"integer"</span>,</span>
<span>    carb <span class="op">=</span> <span class="st">"integer"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="co"># supply levels to mark factors</span></span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    vs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span> <span class="op">=</span> <span class="st">"V-shaped"</span>, <span class="st">"1"</span> <span class="op">=</span> <span class="st">"straight"</span><span class="op">)</span>,</span>
<span>    am <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span> <span class="op">=</span> <span class="st">"automatic"</span>, <span class="st">"1"</span> <span class="op">=</span> <span class="st">"manual"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"Motor Trend Car Road Tests"</span>, </span>
<span>         <span class="va">vardesc</span>, return <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span></span>
<span><span class="co">#&gt; mpg set to dataType float</span></span>
<span><span class="co">#&gt; disp set to dataType float</span></span>
<span><span class="co">#&gt; drat set to dataType float</span></span>
<span><span class="co">#&gt; wt set to dataType float</span></span>
<span><span class="co">#&gt; qsec set to dataType float</span></span>
<span><span class="co">#&gt; Codebook for Motor Trend Car Road Tests (Psych-DS 0.1.0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dataset Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * name: Motor Trend Car Road Tests</span></span>
<span><span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Column Parameters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * mpg (float): Miles/(US) gallon</span></span>
<span><span class="co">#&gt; * cyl (int): Number of cylinders</span></span>
<span><span class="co">#&gt; * disp (float): Displacement (cu.in.)</span></span>
<span><span class="co">#&gt; * hp (int): Gross horsepower</span></span>
<span><span class="co">#&gt; * drat (float): Rear axle ratio</span></span>
<span><span class="co">#&gt; * wt (float): Weight (1000 lbs)</span></span>
<span><span class="co">#&gt; * qsec (float): 1/4 mile time</span></span>
<span><span class="co">#&gt; * vs (int): Engine</span></span>
<span><span class="co">#&gt;   * Levels</span></span>
<span><span class="co">#&gt;     * 0: V-shaped</span></span>
<span><span class="co">#&gt;     * 1: straight</span></span>
<span><span class="co">#&gt;   * Ordered: FALSE</span></span>
<span><span class="co">#&gt; * am (int): Transmission</span></span>
<span><span class="co">#&gt;   * Levels</span></span>
<span><span class="co">#&gt;     * 0: automatic</span></span>
<span><span class="co">#&gt;     * 1: manual</span></span>
<span><span class="co">#&gt;   * Ordered: FALSE</span></span>
<span><span class="co">#&gt; * gear (int): Number of forward gears</span></span>
<span><span class="co">#&gt; * carb (int): Number of carburetors</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="interactive-editing">Interactive Editing<a class="anchor" aria-label="anchor" href="#interactive-editing"></a>
</h2>
<p>There is an experimental argument to edit the codebook interactively.
It runs the codebook function, then asks you to confirm types and edit
descriptions. Only run this in the console, not in an RMarkdown file or
a script meant to be run non-interactively.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">cb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">mtcars</span>, interactive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lisa DeBruine.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>

<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Contrasts • faux</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Contrasts">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">faux</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/sim_design.html">Simulate by Design</a></li>
    <li><a class="dropdown-item" href="../articles/rnorm_multi.html">Simulate Correlated Variables</a></li>
    <li><a class="dropdown-item" href="../articles/norta.html">NORTA</a></li>
    <li><a class="dropdown-item" href="../articles/sim_df.html">Simulate from Existing Data</a></li>
    <li><a class="dropdown-item" href="../articles/continuous.html">Continuous Predictors</a></li>
    <li><a class="dropdown-item" href="../articles/plots.html">Plotting</a></li>
    <li><a class="dropdown-item" href="../articles/sim_mixed.html">Mixed Design Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/random_reports.html">Randomised Reports</a></li>
    <li><a class="dropdown-item" href="../articles/distributions.html">Distribution Conversions</a></li>
    <li><a class="dropdown-item" href="../articles/codebook.html">Codebook Demo</a></li>
    <li><a class="dropdown-item" href="../articles/contrasts.html">Contrasts</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/debruine/faux/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="contrasts_files/kePrint-0.0.1/kePrint.js"></script><link href="contrasts_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Contrasts</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/debruine/faux/blob/master/vignettes/articles/contrasts.Rmd" class="external-link"><code>vignettes/articles/contrasts.Rmd</code></a></small>
      <div class="d-none name"><code>contrasts.Rmd</code></div>
    </div>

    
    
<style>
.ctable { border: 2px solid #036; }
.ctable > thead { background-color: #036; color: white; }
.ctable > thead > tr > th { padding: 0.5em 0; }
.ctable > tbody > tr > td+td { border-left: 2px solid #036; }
</style>
<p>Contrasts other than treatment coding for factors with more than two
levels have always confused me. I try to design all my own studies to
never have more than two levels per categorical factor, but students in
my data skills class are always trying to analyse data with three-level
categories (or worse).</p>
<p>I thought it was just me, but some recent Twitter discussion showed
me I’m not alone. There’s a serious jingle-jangle problem with
contrasts. Here are some of the explainers that I found useful (thanks
to everyone who recommended them).</p>
<ol style="list-style-type: decimal">
<li>
<a href="https://marissabarlaz.github.io/portfolio/contrastcoding/" class="external-link">Contrasts
in R</a> by Marissa Barlaz</li>
<li>
<a href="https://psyteachr.github.io/stat-models-v1/interactions.html#code-your-own-categorical-predictors-in-factorial-designs" class="external-link">Coding
categorical predictor variables in factorial designs</a> by Dale
Barr</li>
<li>
<a href="https://doi.org/10.6339/JDS.2010.08(1).563" class="external-link">Contrast Coding
in Multiple Regression Analysis</a> by Matthew Davis</li>
<li>
<a href="https://stats.oarc.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/" class="external-link">R
Library Contrast Coding Systems for categorical variables</a> by UCLA
Statistical Consulting</li>
<li>
<a href="https://gamlj.github.io/rosetta_contrasts.html" class="external-link">Rosetta
store: Contrasts</a> by GAMLj</li>
<li>
<a href="https://phillipalday.com/stats/coding.html" class="external-link">Coding Schemes
for Categorical Variables</a> by Phillip Alday</li>
<li>
<a href="https://doi.org/10.1111/j.1467-6494.1996.tb00813.x" class="external-link">Experimental
personality designs: analyzing categorical by continuous variable
interactions</a> by West, Aiken &amp; Krull</li>
</ol>
<div class="section level2">
<h2 id="terminology">Terminology<a class="anchor" aria-label="anchor" href="#terminology"></a>
</h2>
<p>Contrasts often have multiple names. The names I’m using try to
maintain the relationship with the base R function, apart from anova
coding, which was suggested by Dale Barr after I got frustrated that
people use so many different labels for that (extremely useful) coding
and each of the terms used is also used to refer to totally different
codings by others.</p>
<table class="table">
<colgroup>
<col width="18%">
<col width="26%">
<col width="24%">
<col width="30%">
</colgroup>
<thead><tr class="header">
<th align="left">My name</th>
<th align="left">Other names</th>
<th align="left">R function</th>
<th align="left">faux function</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="#treatment">Treatment</a></td>
<td align="left">Treatment (<a href="https://psyteachr.github.io/stat-models-v1/interactions.html#the-key-coding-schemes" class="external-link">2</a>),
Dummy (<a href="https://marissabarlaz.github.io/portfolio/contrastcoding/#dummy-coding" class="external-link">1</a>,
<a href="https://stats.oarc.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/#dummy" class="external-link">4</a>,
<a href="https://phillipalday.com/stats/coding.html#simple-regression-dummy-coding" class="external-link">6</a>),
Simple (<a href="https://gamlj.github.io/rosetta_contrasts.html#Contrast:_Simple__Dummy" class="external-link">5</a>)</td>
<td align="left"><code>contr.treatment</code></td>
<td align="left"><code>contr_code_treatment</code></td>
</tr>
<tr class="even">
<td align="left"><a href="#anova">Anova</a></td>
<td align="left">Deviation (<a href="https://psyteachr.github.io/stat-models-v1/interactions.html#the-key-coding-schemes" class="external-link">2</a>),
Contrast (<a href="https://marissabarlaz.github.io/portfolio/contrastcoding/#contrast-coding" class="external-link">1</a>),
Simple (<a href="https://stats.oarc.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/#SIMPLE" class="external-link">4</a>)</td>
<td align="left"><code>contr.treatment - 1/k</code></td>
<td align="left"><code>contr_code_anova</code></td>
</tr>
<tr class="odd">
<td align="left"><a href="#sum">Sum</a></td>
<td align="left">Sum (<a href="https://marissabarlaz.github.io/portfolio/contrastcoding/#sum-coding" class="external-link">1</a>,
<a href="https://psyteachr.github.io/stat-models-v1/interactions.html#the-key-coding-schemes" class="external-link">2</a>,
<a href="https://phillipalday.com/stats/coding.html#simple-regression-sum-coding" class="external-link">6</a>),
Effects (<a href="https://doi.org/10.6339/JDS.2010.08(1).563" class="external-link">3</a>),
Deviation (<a href="https://stats.oarc.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/#SIMPLE" class="external-link">4</a>,
<a href="https://gamlj.github.io/rosetta_contrasts.html#Contrast:_Deviation" class="external-link">5</a>),
Unweighted Effects (<a href="https://doi.org/10.1111/j.1467-6494.1996.tb00813.x" class="external-link">7</a>)</td>
<td align="left"><code>contr.sum</code></td>
<td align="left"><code>contr_code_sum</code></td>
</tr>
<tr class="even">
<td align="left"><a href="#difference">Difference</a></td>
<td align="left">Contrast (<a href="https://doi.org/10.6339/JDS.2010.08(1).563" class="external-link">3</a>),
Forward/Backward (<a href="https://stats.oarc.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/#forward" class="external-link">4</a>),
Repeated (<a href="https://gamlj.github.io/rosetta_contrasts.html#Contrast:_Repeated" class="external-link">5</a>)</td>
<td align="left"><code><a href="https://rdrr.io/pkg/MASS/man/contr.sdif.html" class="external-link">MASS::contr.sdif</a></code></td>
<td align="left"><code>contr_code_difference</code></td>
</tr>
<tr class="odd">
<td align="left"><a href="#helmert">Helmert</a></td>
<td align="left">Reverse Helmert (<a href="https://marissabarlaz.github.io/portfolio/contrastcoding/#reverse-helmert-coding" class="external-link">1</a>,
<a href="https://stats.oarc.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/#reverse" class="external-link">4</a>),
Difference (<a href="https://gamlj.github.io/rosetta_contrasts.html#Contrast:_Difference" class="external-link">5</a>),
Contrast (<a href="https://doi.org/10.1111/j.1467-6494.1996.tb00813.x" class="external-link">7</a>)</td>
<td align="left"><code>contr.helmert / (column_i+1)</code></td>
<td align="left"><code>contr_code_helmert</code></td>
</tr>
<tr class="even">
<td align="left"><a href="#poly">Polynomial</a></td>
<td align="left">Polynomial (<a href="https://gamlj.github.io/rosetta_contrasts.html#Contrast:_Polynomial" class="external-link">5</a>),
Orthogonal Polynomial (<a href="https://stats.oarc.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/#ORTHOGONAL" class="external-link">4</a>),
Trend (<a href="https://doi.org/10.6339/JDS.2010.08(1).563" class="external-link">3</a>)</td>
<td align="left"><code>contr.poly</code></td>
<td align="left"><code>contr_code_poly</code></td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="faux-contrast-functions">Faux Contrast Functions<a class="anchor" aria-label="anchor" href="#faux-contrast-functions"></a>
</h2>
<p><strong>These functions are under development</strong></p>
<p>First, we’ll set up a simple experimental design and analyse it with
<code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>. I set <code>empirical = TRUE</code> to make
interpreting the estimates easier.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_design.html">sim_design</a></span><span class="op">(</span>between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cat"</span>, <span class="st">"dog"</span>, <span class="st">"ferret"</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                 n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span>, mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">9</span><span class="op">)</span>, empirical <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="contrasts_files/figure-html/unnamed-chunk-1-1.png" width="100%"></p>
<p>Notice that the default contrast is treatment coding, with “cat” as
the baseline condition. The estimate for the intercept is the mean value
for cats
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>2</mn><annotation encoding="application/x-tex">2</annotation></semantics></math>),
while the term <code>petdog</code> is the mean value for dogs minus cats
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">4 - 2</annotation></semantics></math>),
and the term <code>petferret</code> is the mean value for ferrets minus
cats
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">9 - 2</annotation></semantics></math>).</p>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
dog
</th>
<th style="text-align:right;">
ferret
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.141
</td>
<td style="text-align:right;">
14.1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
petdog
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
10.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
petferret
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
35.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
<p>In all the subsequent examples, try putting into words what the
estimates for the intercept and terms mean in relation to the mean
values for each group in the data.</p>
<div class="section level3 tabset unnumbered">
<h3 class="tabset unnumbered" id="section"></h3>






<ul class="nav nav-tabs" id="section" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#treatment" id="treatment-tab" type="button" role="tab" aria-controls="treatment" aria-selected="true" class="active nav-link">Treatment</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#anova" id="anova-tab" type="button" role="tab" aria-controls="anova" aria-selected="false" class="nav-link">Anova</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#sum" id="sum-tab" type="button" role="tab" aria-controls="sum" aria-selected="false" class="nav-link">Sum</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#difference" id="difference-tab" type="button" role="tab" aria-controls="difference" aria-selected="false" class="nav-link">Difference</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#helmert" id="helmert-tab" type="button" role="tab" aria-controls="helmert" aria-selected="false" class="nav-link">Helmert</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#poly" id="poly-tab" type="button" role="tab" aria-controls="poly" aria-selected="false" class="nav-link">Polynomial</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="treatment" role="tabpanel" aria-labelledby="treatment-tab">

<p>Treatment coding (also called dummy coding) sets the mean of the
reference group as the intercept. It is straightforward to interpret,
especially when your factors have an obvious default or baseline value.
This is the same type of coding as the default for factors shown above
(unless you change your default using <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code>), but with
clearer term labels.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_treatment.html">contr_code_treatment</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.dog-cat
</th>
<th style="text-align:right;">
.ferret-cat
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.141
</td>
<td style="text-align:right;">
14.1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
10.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-cat
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
35.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
<p>Each contrast compares one level with the reference level, which
defaults to the first level, but you can set with the <code>base</code>
argument. Now the intercept estimates the mean value for dogs
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>4</mn><annotation encoding="application/x-tex">4</annotation></semantics></math>).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_treatment.html">contr_code_treatment</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span>, base <span class="op">=</span> <span class="st">"dog"</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.cat-dog
</th>
<th style="text-align:right;">
.ferret-dog
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.141
</td>
<td style="text-align:right;">
28.3
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-dog
</td>
<td style="text-align:right;">
-2
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
-10.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-dog
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
25.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
<p>Set the reference level to the third level (“ferret”).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_treatment.html">contr_code_treatment</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span>, base <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.cat-ferret
</th>
<th style="text-align:right;">
.dog-ferret
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0.141
</td>
<td style="text-align:right;">
63.6
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-ferret
</td>
<td style="text-align:right;">
-7
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
-35.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-ferret
</td>
<td style="text-align:right;">
-5
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
-25.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
</div>
<div class="tab-pane" id="anova" role="tabpanel" aria-labelledby="anova-tab">

<p>Anova coding is identical to treatment coding, but sets the grand
mean as the intercept. Each contrast compares one level with a reference
level. This gives us values that are relatively easy to interpret and
map onto ANOVA values.</p>
<p>Below is anova coding with the first level (“cat”) as the default
base. Now the intercept is the grand mean, which is the mean of the
three group means
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo>+</mo><mn>4</mn><mo>+</mo><mn>9</mn><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mn>3</mn></mrow><annotation encoding="application/x-tex">(2 + 4 + 9)/3</annotation></semantics></math>).
Notice that this is different from the mean value of y in our dataset
(5, since the number of pets in each group is unbalanced. The term
<code>pet_dog-cat</code> is the mean value for dogs minus cats
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">4 - 2</annotation></semantics></math>)
and the term <code>pet_ferret-cat</code> is the mean value for ferrets
minus cats
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">9 - 2</annotation></semantics></math>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_anova.html">contr_code_anova</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.dog-cat
</th>
<th style="text-align:right;">
.ferret-cat
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
-0.333
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
0.667
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
-0.333
</td>
<td style="text-align:right;">
0.667
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.082
</td>
<td style="text-align:right;">
61.2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
10.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-cat
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
35.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
<p>Anova coding with “dog” as the base. How does the interpretation of
the terms change?</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_anova.html">contr_code_anova</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span>, base <span class="op">=</span> <span class="st">"dog"</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.cat-dog
</th>
<th style="text-align:right;">
.ferret-dog
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
0.667
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
-0.333
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
-0.333
</td>
<td style="text-align:right;">
0.667
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.082
</td>
<td style="text-align:right;">
61.2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-dog
</td>
<td style="text-align:right;">
-2
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
-10.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-dog
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
25.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
<p>Anova coding with the third level (“ferret”) as the base.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_anova.html">contr_code_anova</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span>, base <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.cat-ferret
</th>
<th style="text-align:right;">
.dog-ferret
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
0.667
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
-0.333
</td>
<td style="text-align:right;">
0.667
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
-0.333
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.082
</td>
<td style="text-align:right;">
61.2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-ferret
</td>
<td style="text-align:right;">
-7
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
-35.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-ferret
</td>
<td style="text-align:right;">
-5
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
-25.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
</div>
<div class="tab-pane" id="sum" role="tabpanel" aria-labelledby="sum-tab">

<p>Sum coding also sets the grand mean as the intercept. Each contrast
compares one level with the grand mean. Therefore, the estimate for
<code>pet_cat-intercept</code> is the difference between the mean value
for cats and the grand mean
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>−</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">2 - 5</annotation></semantics></math>).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_sum.html">contr_code_sum</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.cat-intercept
</th>
<th style="text-align:right;">
.dog-intercept
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
-1
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.082
</td>
<td style="text-align:right;">
61.24
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-intercept
</td>
<td style="text-align:right;">
-3
</td>
<td style="text-align:right;">
0.115
</td>
<td style="text-align:right;">
-25.98
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-intercept
</td>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
0.115
</td>
<td style="text-align:right;">
-8.66
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
<p>You can’t compare all levels with the grand mean, and have to omit
one level. This is the last level by default, but you can change it with
the <code>omit</code> argument.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_sum.html">contr_code_sum</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span>, omit <span class="op">=</span> <span class="st">"dog"</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.cat-intercept
</th>
<th style="text-align:right;">
.ferret-intercept
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
-1
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.082
</td>
<td style="text-align:right;">
61.2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-intercept
</td>
<td style="text-align:right;">
-3
</td>
<td style="text-align:right;">
0.115
</td>
<td style="text-align:right;">
-26.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-intercept
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.115
</td>
<td style="text-align:right;">
34.6
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
<p>Omit the first level (“cat”).</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_sum.html">contr_code_sum</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span>, omit <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.dog-intercept
</th>
<th style="text-align:right;">
.ferret-intercept
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
-1
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.082
</td>
<td style="text-align:right;">
61.24
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-intercept
</td>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
0.115
</td>
<td style="text-align:right;">
-8.66
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-intercept
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.115
</td>
<td style="text-align:right;">
34.64
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
</div>
<div class="tab-pane" id="difference" role="tabpanel" aria-labelledby="difference-tab">

<p>A slightly different form of contrast coding is difference coding,
also called forward, backward, or successive differences coding. It
compares each level to the previous one, rather than to a baseline
level.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_difference.html">contr_code_difference</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.dog-cat
</th>
<th style="text-align:right;">
.ferret-dog
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
-0.667
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
0.333
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
0.333
</td>
<td style="text-align:right;">
0.667
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.082
</td>
<td style="text-align:right;">
61.2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
10.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-dog
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
25.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
<p>If you want to change which levels are compared, you can re-order the
factor levels.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_difference.html">contr_code_difference</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ferret"</span>, <span class="st">"cat"</span>, <span class="st">"dog"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.cat-ferret
</th>
<th style="text-align:right;">
.dog-cat
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
-0.667
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
0.333
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
0.333
</td>
<td style="text-align:right;">
0.667
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.082
</td>
<td style="text-align:right;">
61.2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-ferret
</td>
<td style="text-align:right;">
-7
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
-35.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
10.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
</div>
<div class="tab-pane" id="helmert" role="tabpanel" aria-labelledby="helmert-tab">

<p>Helmert coding sets the grand mean as the intercept. Each contrast
compares one level with the mean of previous levels. This coding is
somewhat different than the results from
<code><a href="https://rdrr.io/r/stats/contrast.html" class="external-link">stats::contr.helmert()</a></code> to make it easier to interpret the
estimates. Thus, <code>pet_ferret-cat.dog</code> is the mean value for
ferrets minus the mean value for cats and dogs averaged together
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo>+</mo><mn>4</mn><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">9-(2+4)/2</annotation></semantics></math>).</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_helmert.html">contr_code_helmert</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.dog-cat
</th>
<th style="text-align:right;">
.ferret-cat.dog
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
-0.5
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
0.667
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.082
</td>
<td style="text-align:right;">
61.2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
10.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-cat.dog
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.173
</td>
<td style="text-align:right;">
34.6
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
<p>You can change the comparisons by reordering the levels.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">pet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_helmert.html">contr_code_helmert</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">pet</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ferret"</span>, <span class="st">"dog"</span>, <span class="st">"cat"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
.dog-ferret
</th>
<th style="text-align:right;">
.cat-ferret.dog
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
-0.5
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
-0.333
</td>
</tr>
<tr>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
0.667
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5.0
</td>
<td style="text-align:right;">
0.082
</td>
<td style="text-align:right;">
61.2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-ferret
</td>
<td style="text-align:right;">
-5.0
</td>
<td style="text-align:right;">
0.200
</td>
<td style="text-align:right;">
-25.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-ferret.dog
</td>
<td style="text-align:right;">
-4.5
</td>
<td style="text-align:right;">
0.173
</td>
<td style="text-align:right;">
-26.0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
</div>
<div class="tab-pane" id="poly" role="tabpanel" aria-labelledby="poly-tab">

<p>Polynomial coding is the default for ordered factors in R. We’ll set
up a new data simulation with five ordered times.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_design.html">sim_design</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>,</span>
<span>                 mu <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span> <span class="op">*</span> <span class="fl">0.25</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span> <span class="op">-</span> <span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">*</span> <span class="fl">0.5</span>,</span>
<span>                 sd <span class="op">=</span> <span class="fl">5</span>, long <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="contrasts_files/figure-html/unnamed-chunk-16-1.png" width="100%"></p>
<p>The function <code><a href="../reference/contr_code_poly.html">contr_code_poly()</a></code> uses
<code><a href="https://rdrr.io/r/stats/contrast.html" class="external-link">contr.poly()</a></code> to set up the polynomial contrasts for the
linear (<code>^1</code>), quadratic (<code>^2</code>), cubic
(<code>^3</code>), and quartic (<code>^4</code>) components.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contr_code_poly.html">contr_code_poly</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">time</span><span class="op">)</span></span></code></pre></div>
<table class="table ctable table">
<thead><tr>
<th>
Contrasts
</th>
<th>
lm(y ~ pet, df)
</th>
</tr></thead>
<tbody><tr>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
^1
</th>
<th style="text-align:right;">
^2
</th>
<th style="text-align:right;">
^3
</th>
<th style="text-align:right;">
^4
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
-0.632
</td>
<td style="text-align:right;">
0.535
</td>
<td style="text-align:right;">
-0.316
</td>
<td style="text-align:right;">
0.120
</td>
</tr>
<tr>
<td style="text-align:right;">
-0.316
</td>
<td style="text-align:right;">
-0.267
</td>
<td style="text-align:right;">
0.632
</td>
<td style="text-align:right;">
-0.478
</td>
</tr>
<tr>
<td style="text-align:right;">
0.000
</td>
<td style="text-align:right;">
-0.535
</td>
<td style="text-align:right;">
0.000
</td>
<td style="text-align:right;">
0.717
</td>
</tr>
<tr>
<td style="text-align:right;">
0.316
</td>
<td style="text-align:right;">
-0.267
</td>
<td style="text-align:right;">
-0.632
</td>
<td style="text-align:right;">
-0.478
</td>
</tr>
<tr>
<td style="text-align:right;">
0.632
</td>
<td style="text-align:right;">
0.535
</td>
<td style="text-align:right;">
0.316
</td>
<td style="text-align:right;">
0.120
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
2.031
</td>
<td style="text-align:right;">
0.223
</td>
<td style="text-align:right;">
9.110
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
time^1
</td>
<td style="text-align:right;">
0.239
</td>
<td style="text-align:right;">
0.498
</td>
<td style="text-align:right;">
0.480
</td>
<td style="text-align:right;">
0.631
</td>
</tr>
<tr>
<td style="text-align:left;">
time^2
</td>
<td style="text-align:right;">
1.946
</td>
<td style="text-align:right;">
0.498
</td>
<td style="text-align:right;">
3.905
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
time^3
</td>
<td style="text-align:right;">
-0.198
</td>
<td style="text-align:right;">
0.498
</td>
<td style="text-align:right;">
-0.397
</td>
<td style="text-align:right;">
0.692
</td>
</tr>
<tr>
<td style="text-align:left;">
time^4
</td>
<td style="text-align:right;">
-0.004
</td>
<td style="text-align:right;">
0.498
</td>
<td style="text-align:right;">
-0.009
</td>
<td style="text-align:right;">
0.993
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="add-contrasts">Add Contrasts<a class="anchor" aria-label="anchor" href="#add-contrasts"></a>
</h2>
<p>The function <code>add_contrasts()</code> lets you add contrasts to a
column in a data frame and also adds new columns for each contrast
(unless <code>add_cols = FALSE</code>). This is especially helpful if
you want to test only a subset of the contrasts.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_design.html">sim_design</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>,</span>
<span>                 mu <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span> <span class="op">*</span> <span class="fl">0.25</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span> <span class="op">-</span> <span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">*</span> <span class="fl">0.5</span>,</span>
<span>                 sd <span class="op">=</span> <span class="fl">5</span>, long <span class="op">=</span> <span class="cn">TRUE</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"poly"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># test only the linear and quadratic contrasts</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">`time^1`</span> <span class="op">+</span> <span class="va">`time^2`</span>, <span class="va">df</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
1.69
</td>
<td style="text-align:right;">
0.239
</td>
<td style="text-align:right;">
7.09
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>time^1</code>
</td>
<td style="text-align:right;">
0.78
</td>
<td style="text-align:right;">
0.534
</td>
<td style="text-align:right;">
1.46
</td>
<td style="text-align:right;">
0.145
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>time^2</code>
</td>
<td style="text-align:right;">
2.06
</td>
<td style="text-align:right;">
0.534
</td>
<td style="text-align:right;">
3.85
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
</tbody>
</table>
<p>You can set <code>colnames</code> to change the default column names
for the contrasts. This can be useful if you want to add different
codings for the same factor or if the default names are too long.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">btwn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"control"</span>, <span class="st">"experimental"</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_design.html">sim_design</a></span><span class="op">(</span>between <span class="op">=</span> <span class="va">btwn</span>, n <span class="op">=</span> <span class="fl">1</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"condition"</span>, <span class="st">"treatment"</span>, colnames <span class="op">=</span> <span class="st">"cond.tr"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"condition"</span>, <span class="st">"anova"</span>, colnames <span class="op">=</span> <span class="st">"cond.aov"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"condition"</span>, <span class="st">"difference"</span>, colnames <span class="op">=</span> <span class="st">"cond.dif"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"condition"</span>, <span class="st">"sum"</span>, colnames <span class="op">=</span> <span class="st">"cond.sum"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"condition"</span>, <span class="st">"helmert"</span>, colnames <span class="op">=</span> <span class="st">"cond.hmt"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"condition"</span>, <span class="st">"poly"</span>, colnames <span class="op">=</span> <span class="st">"cond.poly"</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:left;">
condition
</th>
<th style="text-align:right;">
y
</th>
<th style="text-align:right;">
cond.tr
</th>
<th style="text-align:right;">
cond.aov
</th>
<th style="text-align:right;">
cond.dif
</th>
<th style="text-align:right;">
cond.sum
</th>
<th style="text-align:right;">
cond.hmt
</th>
<th style="text-align:right;">
cond.poly
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
S1
</td>
<td style="text-align:left;">
control
</td>
<td style="text-align:right;">
0.697
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-0.5
</td>
<td style="text-align:right;">
-0.5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
-0.5
</td>
<td style="text-align:right;">
-0.707
</td>
</tr>
<tr>
<td style="text-align:left;">
S2
</td>
<td style="text-align:left;">
experimental
</td>
<td style="text-align:right;">
0.512
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
0.707
</td>
</tr>
</tbody>
</table>
<p>However, if a new column has a duplicate name to an existing column,
<code><a href="../reference/add_contrast.html">add_contrast()</a></code> will automatically add a contrast suffix to
the new column.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">btwn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cat"</span>, <span class="st">"dog"</span>, <span class="st">"ferret"</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_design.html">sim_design</a></span><span class="op">(</span>between <span class="op">=</span> <span class="va">btwn</span>, n <span class="op">=</span> <span class="fl">1</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"treatment"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"anova"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"sum"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"difference"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"helmert"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"poly"</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:left;">
pet
</th>
<th style="text-align:right;">
y
</th>
<th style="text-align:right;">
pet.dog-cat
</th>
<th style="text-align:right;">
pet.ferret-cat
</th>
<th style="text-align:right;">
pet.cat-intercept
</th>
<th style="text-align:right;">
pet.dog-intercept
</th>
<th style="text-align:right;">
pet.ferret-dog
</th>
<th style="text-align:right;">
pet.ferret-cat.dog
</th>
<th style="text-align:right;">
pet^1
</th>
<th style="text-align:right;">
pet^2
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
S1
</td>
<td style="text-align:left;">
cat
</td>
<td style="text-align:right;">
-0.72
</td>
<td style="text-align:right;">
-0.5
</td>
<td style="text-align:right;">
-0.33
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-0.33
</td>
<td style="text-align:right;">
-0.33
</td>
<td style="text-align:right;">
-0.71
</td>
<td style="text-align:right;">
0.41
</td>
</tr>
<tr>
<td style="text-align:left;">
S2
</td>
<td style="text-align:left;">
dog
</td>
<td style="text-align:right;">
-0.36
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
-0.33
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
-0.33
</td>
<td style="text-align:right;">
-0.33
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
-0.82
</td>
</tr>
<tr>
<td style="text-align:left;">
S3
</td>
<td style="text-align:left;">
ferret
</td>
<td style="text-align:right;">
-1.43
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
0.67
</td>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
0.67
</td>
<td style="text-align:right;">
0.67
</td>
<td style="text-align:right;">
0.71
</td>
<td style="text-align:right;">
0.41
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="x2-design">2x2 Design<a class="anchor" aria-label="anchor" href="#x2-design"></a>
</h3>
<p>Let’s use simulated data with <code>empirical = TRUE</code> to
explore how to interpret interactions between two 2-level factors coded
in different ways.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_design.html">sim_design</a></span><span class="op">(</span>between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"am"</span>, <span class="st">"pm"</span><span class="op">)</span>,</span>
<span>                                pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cat"</span>, <span class="st">"dog"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">60</span>, <span class="fl">70</span>, <span class="fl">80</span><span class="op">)</span>, mu <span class="op">=</span> <span class="va">mu</span>, empirical <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="contrasts_files/figure-html/unnamed-chunk-23-1.png" width="100%"></p>
<p>The table below shows the cell and marginal means. The notation
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><annotation encoding="application/x-tex">Y_{..}</annotation></semantics></math>
is used to denote a mean for a specific grouping. The <code>.</code> is
used to indicate the mean over all groups of that factor;
<code>Y..</code> is the grand mean. While you’ll usually see the
subscripts written as numbers to indicate the factor levels, we’re using
letters here so you don’t have to keep referring to the order of factors
and levels.</p>
<table class="table">
<thead><tr class="header">
<th></th>
<th>cat</th>
<th>dog</th>
<th>mean</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>am</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">Y_{ca} = 0</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">Y_{da} = 4</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">Y_{.a} = 2</annotation></semantics></math></td>
</tr>
<tr class="even">
<td><strong>pm</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">Y_{cp} = 6</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">Y_{dp} = 10</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>p</mi></mrow></msub><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">Y_{.p} = 8</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td><strong>mean</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">Y_{c.} = 3</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>.</mi></mrow></msub><mo>=</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">Y_{d.} = 7</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">Y_{..} = 5</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="section level4 tabset">
<h4 class="tabset" id="section-1"></h4>





<ul class="nav nav-tabs" id="section-1" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#treatment-1" id="treatment-1-tab" type="button" role="tab" aria-controls="treatment-1" aria-selected="true" class="active nav-link">Treatment</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#anova-1" id="anova-1-tab" type="button" role="tab" aria-controls="anova-1" aria-selected="false" class="nav-link">Anova</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#sum-1" id="sum-1-tab" type="button" role="tab" aria-controls="sum-1" aria-selected="false" class="nav-link">Sum</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#difference-1" id="difference-1-tab" type="button" role="tab" aria-controls="difference-1" aria-selected="false" class="nav-link">Difference</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#helmert-1" id="helmert-1-tab" type="button" role="tab" aria-controls="helmert-1" aria-selected="false" class="nav-link">Helmert</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="treatment-1" role="tabpanel" aria-labelledby="treatment-1-tab">

<table class="table">
<colgroup>
<col width="15%">
<col width="42%">
<col width="23%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">term</th>
<th align="left">interpretation</th>
<th align="left">formula</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">intercept</td>
<td align="left">cat when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><annotation encoding="application/x-tex">Y_{ca}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>0</mn><annotation encoding="application/x-tex">0</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat</td>
<td align="left">dog minus cat, when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{da} - Y_{ca}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>−</mo><mn>0</mn><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">4 - 0 = 4</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">time.pm-am</td>
<td align="left">pm minus am, for cats</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{cp} - Y_{ca}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>−</mo><mn>0</mn><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">6 - 0 = 6</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat:time.pm-am</td>
<td align="left">dog minus cat when pm, minus dog minus cat when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{dp} - Y_{cp}) - (Y_{da} - Y_{ca})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>10</mn><mo>−</mo><mn>6</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>4</mn><mo>−</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">(10 - 6) - (4 - 0) = 0</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"treatment"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"treatment"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">pet</span> <span class="op">*</span> <span class="va">time</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable_styling</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.141
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.191
</td>
<td style="text-align:right;">
20.9
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
time.pm-am
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.185
</td>
<td style="text-align:right;">
32.4
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat:time.pm-am
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.252
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<div class="tab-pane" id="anova-1" role="tabpanel" aria-labelledby="anova-1-tab">

<table class="table">
<colgroup>
<col width="15%">
<col width="42%">
<col width="23%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">term</th>
<th align="left">interpretation</th>
<th align="left">formula</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">intercept</td>
<td align="left">grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><annotation encoding="application/x-tex">Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>5</mn><annotation encoding="application/x-tex">5</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat</td>
<td align="left">mean dog minus mean cat</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{d.} - Y_{c.}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mo>−</mo><mn>3</mn><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">7 - 3 = 4</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">time.pm-am</td>
<td align="left">mean pm minus mean am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{.p} - Y_{.a}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>−</mo><mn>2</mn><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">8 - 2 = 6</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat:time.pm-am</td>
<td align="left">dog minus cat when pm, minus dog minus cat when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{dp} - Y_{cp}) - (Y_{da} - Y_{ca})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>10</mn><mo>−</mo><mn>6</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>4</mn><mo>−</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">(10 - 6) - (4 - 0) = 0</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"anova"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"anova"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">pet</span> <span class="op">*</span> <span class="va">time</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable_styling</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.063
</td>
<td style="text-align:right;">
79.4
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.126
</td>
<td style="text-align:right;">
31.8
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
time.pm-am
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.126
</td>
<td style="text-align:right;">
47.6
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat:time.pm-am
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.252
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<div class="tab-pane" id="sum-1" role="tabpanel" aria-labelledby="sum-1-tab">

<table class="table">
<colgroup>
<col width="15%">
<col width="42%">
<col width="23%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">term</th>
<th align="left">interpretation</th>
<th align="left">formula</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">intercept</td>
<td align="left">grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><annotation encoding="application/x-tex">Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>3</mn><annotation encoding="application/x-tex">3</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.cat-intercept</td>
<td align="left">mean cat minus grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{c.} - Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>−</mo><mn>5</mn><mo>=</mo><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">3 - 5 = -2</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">time.am-intercept</td>
<td align="left">mean am minus grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{.a} - Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>−</mo><mn>5</mn><mo>=</mo><mo>−</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">2 - 5 = -3</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.cat-intercept:time.am-intercept</td>
<td align="left">cat minus mean when am, minus cat minus mean when pm,
divided by 2</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mn>2</mn></mfrac><annotation encoding="application/x-tex">\frac{(Y_{ca} - Y_{.a}) - (Y_{cp} - Y_{.p})}{2}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>−</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>6</mn><mo>−</mo><mn>8</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mn>2</mn></mfrac><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\frac{(0 - 2) - (6 - 8)}{2} = 0</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"sum"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"sum"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">pet</span> <span class="op">*</span> <span class="va">time</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  </span>
<span>  <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable_styling</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.063
</td>
<td style="text-align:right;">
79.4
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-intercept
</td>
<td style="text-align:right;">
-2
</td>
<td style="text-align:right;">
0.063
</td>
<td style="text-align:right;">
-31.8
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
time.am-intercept
</td>
<td style="text-align:right;">
-3
</td>
<td style="text-align:right;">
0.063
</td>
<td style="text-align:right;">
-47.6
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-intercept:time.am-intercept
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.063
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<div class="tab-pane" id="difference-1" role="tabpanel" aria-labelledby="difference-1-tab">

<table class="table">
<colgroup>
<col width="15%">
<col width="42%">
<col width="23%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">term</th>
<th align="left">interpretation</th>
<th align="left">formula</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">intercept</td>
<td align="left">grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><annotation encoding="application/x-tex">Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>5</mn><annotation encoding="application/x-tex">5</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat</td>
<td align="left">mean dog minus mean cat</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{d.} - Y_{c.}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mo>−</mo><mn>3</mn><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">7 - 3 = 4</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">time.pm-am</td>
<td align="left">mean pm minus mean am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{.p} - Y_{.a}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>−</mo><mn>2</mn><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">8 - 2 = 6</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat:time.pm-am</td>
<td align="left">dog minus cat when pm, minus dog minus cat when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{dp} - Y_{cp}) - (Y_{da} - Y_{ca})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>10</mn><mo>−</mo><mn>6</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>4</mn><mo>−</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">(10 - 6) - (4 - 0) = 0</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"difference"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"difference"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">pet</span> <span class="op">*</span> <span class="va">time</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable_styling</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.063
</td>
<td style="text-align:right;">
79.4
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.126
</td>
<td style="text-align:right;">
31.8
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
time.pm-am
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.126
</td>
<td style="text-align:right;">
47.6
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat:time.pm-am
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.252
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<div class="tab-pane" id="helmert-1" role="tabpanel" aria-labelledby="helmert-1-tab">

<table class="table">
<colgroup>
<col width="15%">
<col width="42%">
<col width="23%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">term</th>
<th align="left">interpretation</th>
<th align="left">formula</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">intercept</td>
<td align="left">grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><annotation encoding="application/x-tex">Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>5</mn><annotation encoding="application/x-tex">5</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat</td>
<td align="left">mean dog minus mean cat</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{d.} - Y_{c.}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mo>−</mo><mn>3</mn><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">7 - 3 = 4</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">time.pm-am</td>
<td align="left">mean pm minus mean am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{.p} - Y_{.a}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>−</mo><mn>2</mn><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">8 - 2 = 6</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat:time.pm-am</td>
<td align="left">dog minus cat when pm, minus dog minus cat when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{dp} - Y_{cp}) - (Y_{da} - Y_{ca})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>10</mn><mo>−</mo><mn>6</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>4</mn><mo>−</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">(10 - 6) - (4 - 0) = 0</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"helmert"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"helmert"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">pet</span> <span class="op">*</span> <span class="va">time</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable_styling</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.063
</td>
<td style="text-align:right;">
79.4
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.126
</td>
<td style="text-align:right;">
31.8
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
time.pm-am
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.126
</td>
<td style="text-align:right;">
47.6
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat:time.pm-am
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.252
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="section level3 unnumbered">
<h3 class="unnumbered" id="section-2"></h3>
<p><strong>N.B. In the case of 2-level factors, anova, difference, and
Helmert coding are identical. Treatment coding differs only in the
intercept.</strong></p>
<p>Remember that interactions can always be described in two ways, since
<code>(A1 - A2) - (B1 - B2) == (A1 - B1) - (A2 - B2)</code>. Therefore,
“dog minus cat when pm, minus dog minus cat when am” is the same as “pm
minus am for dogs, minus pm minus am for cats”. The way you describe it
in a paper depends on which version maps onto your hypothesis more
straightforwardly. The examples above might be written as “the
difference between dogs and cats was bigger in the evening than the
morning” or “the difference between evening and morning was bigger for
dogs than for cats”. Make sure you check the plots to make sure you are
describing the relationships in the right direction.</p>
</div>
<div class="section level3">
<h3 id="x3-design">2x3 Design<a class="anchor" aria-label="anchor" href="#x3-design"></a>
</h3>
<p>Let’s use simulated data with <code>empirical = TRUE</code> to
explore how to interpret interactions between a 2-level factor and a
3-level factor coded in different ways.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">6</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_design.html">sim_design</a></span><span class="op">(</span>between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"am"</span>, <span class="st">"pm"</span><span class="op">)</span>,</span>
<span>                                pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cat"</span>, <span class="st">"dog"</span>, <span class="st">"ferret"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">60</span>, <span class="fl">70</span>, <span class="fl">80</span>, <span class="fl">90</span>, <span class="fl">100</span><span class="op">)</span>, mu <span class="op">=</span> <span class="va">mu</span>, empirical <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="contrasts_files/figure-html/unnamed-chunk-30-1.png" width="100%"></p>
<table class="table">
<colgroup>
<col width="29%">
<col width="14%">
<col width="14%">
<col width="23%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th></th>
<th>cat</th>
<th>dog</th>
<th>ferret</th>
<th>mean</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>am</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">Y_{ca} = 0</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">Y_{da} = 5</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>f</mi><mi>a</mi></mrow></msub><mo>=</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">Y_{fa} = 7</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">Y_{.a} = 4</annotation></semantics></math></td>
</tr>
<tr class="even">
<td><strong>pm</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">Y_{cp} = 6</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">Y_{dp} = 2</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>f</mi><mi>p</mi></mrow></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">Y_{fp} = 1</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>p</mi></mrow></msub><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">Y_{.p} = 3</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td><strong>mean</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">Y_{c.} = 3</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>.</mi></mrow></msub><mo>=</mo><mn>3.5</mn></mrow><annotation encoding="application/x-tex">Y_{d.} = 3.5</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>f</mi><mi>.</mi></mrow></msub><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">Y_{f.} = 4</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><mo>=</mo><mn>3.5</mn></mrow><annotation encoding="application/x-tex">Y_{..} = 3.5</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="section level4 tabset unnumbered">
<h4 class="tabset unnumbered" id="section-3"></h4>





<ul class="nav nav-tabs" id="section-3" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#treatment-2" id="treatment-2-tab" type="button" role="tab" aria-controls="treatment-2" aria-selected="true" class="active nav-link">Treatment</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#anova-2" id="anova-2-tab" type="button" role="tab" aria-controls="anova-2" aria-selected="false" class="nav-link">Anova</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#sum-2" id="sum-2-tab" type="button" role="tab" aria-controls="sum-2" aria-selected="false" class="nav-link">Sum</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#difference-2" id="difference-2-tab" type="button" role="tab" aria-controls="difference-2" aria-selected="false" class="nav-link">Difference</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#helmert-2" id="helmert-2-tab" type="button" role="tab" aria-controls="helmert-2" aria-selected="false" class="nav-link">Helmert</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="treatment-2" role="tabpanel" aria-labelledby="treatment-2-tab">

<table class="table">
<colgroup>
<col width="15%">
<col width="42%">
<col width="23%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">term</th>
<th align="left">interpretation</th>
<th align="left">formula</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">intercept</td>
<td align="left">cat when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><annotation encoding="application/x-tex">Y_{ca}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>0</mn><annotation encoding="application/x-tex">0</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat</td>
<td align="left">dog minus cat, when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{da} - Y_{ca}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>−</mo><mn>0</mn><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">5 - 0 = 5</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">pet.ferret-cat</td>
<td align="left">ferret minus cat, when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>f</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{fa} - Y_{ca}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mo>−</mo><mn>0</mn><mo>=</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">7 - 0 = 7</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">time.pm-am</td>
<td align="left">pm minus am, for cats</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{cp} - Y_{ca}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>−</mo><mn>0</mn><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">6 - 0 = 6</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">pet.dog-cat:time.pm-am</td>
<td align="left">dog minus cat when pm, minus dog minus cat when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{dp} - Y_{cp}) - (Y_{da} - Y_{ca})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo>−</mo><mn>6</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>5</mn><mo>−</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mo>−</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">(2 - 6) - (5 - 0) = -9</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.ferret-cat:time.pm-am</td>
<td align="left">ferret minus cat when pm, minus ferret minus cat when
am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>f</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>f</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{fp} - Y_{cp}) - (Y_{fa} - Y_{ca})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><mn>6</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>7</mn><mo>−</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mo>−</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">(1 - 6) - (7 - 0) = -12</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"treatment"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"treatment"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">pet</span> <span class="op">*</span> <span class="va">time</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable_styling</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.141
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.191
</td>
<td style="text-align:right;">
26.1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-cat
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.185
</td>
<td style="text-align:right;">
37.8
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
time.pm-am
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.180
</td>
<td style="text-align:right;">
33.3
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat:time.pm-am
</td>
<td style="text-align:right;">
-9
</td>
<td style="text-align:right;">
0.246
</td>
<td style="text-align:right;">
-36.7
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-cat:time.pm-am
</td>
<td style="text-align:right;">
-12
</td>
<td style="text-align:right;">
0.238
</td>
<td style="text-align:right;">
-50.4
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<div class="tab-pane" id="anova-2" role="tabpanel" aria-labelledby="anova-2-tab">

<table class="table">
<colgroup>
<col width="15%">
<col width="42%">
<col width="23%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">term</th>
<th align="left">interpretation</th>
<th align="left">formula</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">intercept</td>
<td align="left">grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><annotation encoding="application/x-tex">Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>3.5</mn><annotation encoding="application/x-tex">3.5</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat</td>
<td align="left">mean dog minus mean cat</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{d.} - Y_{c.}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3.5</mn><mo>−</mo><mn>3</mn><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">3.5 - 3 = 0.5</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">pet.ferret-cat</td>
<td align="left">mean ferret minus mean cat</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>f</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{f.} - Y_{c.}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>−</mo><mn>3</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">4 - 3 = 1</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">time.pm-am</td>
<td align="left">mean pm minus mean am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{.p} - Y_{.a}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>−</mo><mn>4</mn><mo>=</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">3 - 4 = -1</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">pet.dog-cat:time.pm-am</td>
<td align="left">dog minus cat when pm, minus dog minus cat when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{dp} - Y_{cp}) - (Y_{da} - Y_{ca})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo>−</mo><mn>6</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>5</mn><mo>−</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mo>−</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">(2 - 6) - (5 - 0) = -9</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.ferret-cat:time.pm-am</td>
<td align="left">ferret minus cat when pm, minus ferret minus cat when
am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>f</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>f</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{fp} - Y_{cp}) - (Y_{fa} - Y_{ca})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><mn>6</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>7</mn><mo>−</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mo>−</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">(1 - 6) - (7 - 0) = -12</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"anova"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"anova"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">pet</span> <span class="op">*</span> <span class="va">time</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable_styling</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
72.22
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
0.123
</td>
<td style="text-align:right;">
4.07
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-cat
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
0.119
</td>
<td style="text-align:right;">
8.39
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
time.pm-am
</td>
<td style="text-align:right;">
-1.0
</td>
<td style="text-align:right;">
0.097
</td>
<td style="text-align:right;">
-10.32
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat:time.pm-am
</td>
<td style="text-align:right;">
-9.0
</td>
<td style="text-align:right;">
0.246
</td>
<td style="text-align:right;">
-36.66
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-cat:time.pm-am
</td>
<td style="text-align:right;">
-12.0
</td>
<td style="text-align:right;">
0.238
</td>
<td style="text-align:right;">
-50.36
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<div class="tab-pane" id="sum-2" role="tabpanel" aria-labelledby="sum-2-tab">

<table class="table">
<colgroup>
<col width="15%">
<col width="42%">
<col width="23%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">term</th>
<th align="left">interpretation</th>
<th align="left">formula</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">intercept</td>
<td align="left">grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><annotation encoding="application/x-tex">Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>3</mn><annotation encoding="application/x-tex">3</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.cat-intercept</td>
<td align="left">mean cat minus grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{c.} - Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>−</mo><mn>3.5</mn><mo>=</mo><mo>−</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">3 - 3.5 = -0.5</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">pet.dog-intercept</td>
<td align="left">mean dog minus grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{d.} - Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3.5</mn><mo>−</mo><mn>3.5</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">3.5 - 3.5 = 0</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">time.am-intercept</td>
<td align="left">mean am minus grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{.a} - Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>−</mo><mn>3.5</mn><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">4 - 3.5 = 0.5</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">pet.cat-intercept:time.am-intercept</td>
<td align="left">cat minus mean when am, minus cat minus mean when pm,
divided by 2</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mn>2</mn></mfrac><annotation encoding="application/x-tex">\frac{(Y_{ca} - Y_{.a}) - (Y_{cp} - Y_{.p})}{2}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>−</mo><mn>4</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>6</mn><mo>−</mo><mn>3</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mn>2</mn></mfrac><mo>=</mo><mo>−</mo><mn>3.5</mn></mrow><annotation encoding="application/x-tex">\frac{(0 - 4) - (6 - 3)}{2} = -3.5</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-intercept:time.am-intercept</td>
<td align="left">dog minus mean when am, minus dog minus mean when pm,
divided by 2</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mn>2</mn></mfrac><annotation encoding="application/x-tex">\frac{(Y_{da} - Y_{.a}) - (Y_{dp} - Y_{.p})}{2}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>5</mn><mo>−</mo><mn>4</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo>−</mo><mn>3</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mn>2</mn></mfrac><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\frac{(5 - 4) - (2 - 3)}{2} = 1</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"sum"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"sum"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">pet</span> <span class="op">*</span> <span class="va">time</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable_styling</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
72.22
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-intercept
</td>
<td style="text-align:right;">
-0.5
</td>
<td style="text-align:right;">
0.071
</td>
<td style="text-align:right;">
-7.03
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-intercept
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
0.068
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
time.am-intercept
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
10.32
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.cat-intercept:time.am-intercept
</td>
<td style="text-align:right;">
-3.5
</td>
<td style="text-align:right;">
0.071
</td>
<td style="text-align:right;">
-49.22
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-intercept:time.am-intercept
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
0.068
</td>
<td style="text-align:right;">
14.64
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<div class="tab-pane" id="difference-2" role="tabpanel" aria-labelledby="difference-2-tab">

<table class="table">
<colgroup>
<col width="15%">
<col width="42%">
<col width="23%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">term</th>
<th align="left">interpretation</th>
<th align="left">formula</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">intercept</td>
<td align="left">grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><annotation encoding="application/x-tex">Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>3.5</mn><annotation encoding="application/x-tex">3.5</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat</td>
<td align="left">mean dog minus mean cat</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{d.} - Y_{c.}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3.5</mn><mo>−</mo><mn>3</mn><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">3.5 - 3 = 0.5</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">pet.ferret-dog</td>
<td align="left">mean ferret minus mean dog</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>f</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{f.} - Y_{d.}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>−</mo><mn>3.5</mn><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">4 - 3.5 = 0.5</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">time.pm-am</td>
<td align="left">mean pm minus mean am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{.p} - Y_{.a}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>−</mo><mn>4</mn><mo>=</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">3 - 4 = -1</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">pet.dog-cat:time.pm-am</td>
<td align="left">dog minus cat when pm, minus dog minus cat when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{dp} - Y_{cp}) - (Y_{da} - Y_{ca})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo>−</mo><mn>6</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>5</mn><mo>−</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mo>−</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">(2 - 6) - (5 - 0) = -9</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.ferret-dog:time.pm-am</td>
<td align="left">ferret minus dog when pm, minus ferret minus dog when
am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>f</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>f</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{fp} - Y_{dp}) - (Y_{fa} - Y_{da})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>7</mn><mo>−</mo><mn>5</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mo>−</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">(1 - 2) - (7 - 5) = -3</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"difference"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"difference"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">pet</span> <span class="op">*</span> <span class="va">time</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable_styling</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
72.22
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
0.123
</td>
<td style="text-align:right;">
4.07
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-dog
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
0.114
</td>
<td style="text-align:right;">
4.38
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
time.pm-am
</td>
<td style="text-align:right;">
-1.0
</td>
<td style="text-align:right;">
0.097
</td>
<td style="text-align:right;">
-10.32
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat:time.pm-am
</td>
<td style="text-align:right;">
-9.0
</td>
<td style="text-align:right;">
0.246
</td>
<td style="text-align:right;">
-36.66
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-dog:time.pm-am
</td>
<td style="text-align:right;">
-3.0
</td>
<td style="text-align:right;">
0.228
</td>
<td style="text-align:right;">
-13.15
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<div class="tab-pane" id="helmert-2" role="tabpanel" aria-labelledby="helmert-2-tab">

<table class="table">
<colgroup>
<col width="15%">
<col width="42%">
<col width="23%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">term</th>
<th align="left">interpretation</th>
<th align="left">formula</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">intercept</td>
<td align="left">grand mean</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><annotation encoding="application/x-tex">Y_{..}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>3.5</mn><annotation encoding="application/x-tex">3.5</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.dog-cat</td>
<td align="left">mean dog minus mean cat</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>d</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{d.} - Y_{c.}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3.5</mn><mo>−</mo><mn>3</mn><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">3.5 - 3 = 0.5</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">pet.ferret-cat.dog</td>
<td align="left">mean ferret minus mean of cat and dog</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>f</mi><mi>.</mi></mrow></msub><mo>−</mo><mfrac><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>.</mi></mrow></msub><mo>+</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>.</mi></mrow></msub></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">Y_{f.} - \frac{Y_{c.} + Y_{d.}}{2}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>−</mo><mfrac><mrow><mn>3</mn><mo>+</mo><mn>3.5</mn></mrow><mn>2</mn></mfrac><mo>=</mo><mn>0.75</mn></mrow><annotation encoding="application/x-tex">4 - \frac{3 + 3.5}{2} = 0.75</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">time.pm-am</td>
<td align="left">mean pm minus mean am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mrow><mi>.</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>.</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Y_{.p} - Y_{.a}</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>−</mo><mn>4</mn><mo>=</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">3 - 4 = -1</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td align="left">pet.dog-cat:time.pm-am</td>
<td align="left">dog minus cat when pm, minus dog minus cat when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{dp} - Y_{cp}) - (Y_{da} - Y_{ca})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo>−</mo><mn>6</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>5</mn><mo>−</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mo>−</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">(2 - 6) - (5 - 0) = -9</annotation></semantics></math></td>
</tr>
<tr class="even">
<td align="left">pet.ferret-cat.dog:time.pm-am</td>
<td align="left">ferret minus mean of cat and dog when pm, minus ferret
minus mean of cat and dog when am</td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>f</mi><mi>p</mi></mrow></msub><mo>−</mo><mfrac><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>p</mi></mrow></msub><mo>+</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>p</mi></mrow></msub></mrow><mn>2</mn></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>f</mi><mi>a</mi></mrow></msub><mo>−</mo><mfrac><mrow><msub><mi>Y</mi><mrow><mi>c</mi><mi>a</mi></mrow></msub><mo>+</mo><msub><mi>Y</mi><mrow><mi>d</mi><mi>a</mi></mrow></msub></mrow><mn>2</mn></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(Y_{fp} - \frac{Y_{cp} + Y_{dp}}{2}) - (Y_{fa} - \frac{Y_{ca} + Y_{da}}{2})</annotation></semantics></math></td>
<td align="left"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><mfrac><mrow><mn>6</mn><mo>+</mo><mn>2</mn></mrow><mn>2</mn></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>7</mn><mo>−</mo><mfrac><mrow><mn>0</mn><mo>+</mo><mn>5</mn></mrow><mn>2</mn></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mo>−</mo><mn>7.5</mn></mrow><annotation encoding="application/x-tex">(1 - \frac{6 + 2}{2}) - (7 - \frac{0 + 5}{2}) = -7.5</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"pet"</span>, <span class="st">"helmert"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_contrast.html">add_contrast</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"helmert"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">pet</span> <span class="op">*</span> <span class="va">time</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">kable_styling</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
3.50
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
72.22
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0.123
</td>
<td style="text-align:right;">
4.07
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-cat.dog
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0.099
</td>
<td style="text-align:right;">
7.56
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
time.pm-am
</td>
<td style="text-align:right;">
-1.00
</td>
<td style="text-align:right;">
0.097
</td>
<td style="text-align:right;">
-10.32
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.dog-cat:time.pm-am
</td>
<td style="text-align:right;">
-9.00
</td>
<td style="text-align:right;">
0.246
</td>
<td style="text-align:right;">
-36.66
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
pet.ferret-cat.dog:time.pm-am
</td>
<td style="text-align:right;">
-7.50
</td>
<td style="text-align:right;">
0.198
</td>
<td style="text-align:right;">
-37.81
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="section level3 unnumbered">
<h3 class="unnumbered" id="section-4"></h3>
<p><strong>N.B. In this case, difference coding is identical to anova
coding except that the second pet contrast is ferret versus dog instead
of ferret versus cat.</strong></p>
</div>
<div class="section level3">
<h3 id="x3-design-1">3x3 Design<a class="anchor" aria-label="anchor" href="#x3-design-1"></a>
</h3>
<p>Please just don’t. You’re going to break my head.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lisa DeBruine.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>

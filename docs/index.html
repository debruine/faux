<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulation Functions • faux</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Simulation Functions">
<meta property="og:description" content="Provides functions for simulating multiple variables with specified relationships.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">faux</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9012</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/plots.html">Plotting</a>
    </li>
    <li>
      <a href="articles/rnorm_multi.html">Simulate Correlated Variables</a>
    </li>
    <li>
      <a href="articles/sim_design.html">Simulate by Design</a>
    </li>
    <li>
      <a href="articles/sim_df.html">Simulate from Existing Data</a>
    </li>
    <li>
      <a href="articles/sim_mixed.html">Mixed Design Simulation</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/debruine/faux">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- rmarkdown v1 -->
<!-- README.md is generated from README.Rmd. Please edit that file -->
<!-- badges: start -->

<p>It is useful to be able to simulate data with a specified structure. The <code>faux</code> package provides some functions to make this process easier. See the <a href="https://debruine.github.io/faux/">package website</a> for more details.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the newest version of faux from <a href="https://github.com/debruine/faux">GitHub</a> with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"debruine/faux"</span>, <span class="dt">build_vignettes =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>Because faux is still in early development, some features will break in future versions. Include sessioninfo::package_info() in your script to list the versions of all loaded packages.</p>
</div>
<div id="how-to-use-faux" class="section level2">
<h2 class="hasAnchor">
<a href="#how-to-use-faux" class="anchor"></a>How to use faux</h2>
<ul>
<li><a href="#sim_design">sim_design</a></li>
<li><a href="#sim_df">sim_df</a></li>
<li><a href="#sim_mixed_cc">sim_mixed_cc</a></li>
<li><a href="#sim_mixed_df">sim_mixed_df</a></li>
<li><a href="#rnorm_multi">rnorm_multi</a></li>
<li><a href="#rnorm_pre">rnorm_pre</a></li>
<li><a href="#add_func">additional functions</a></li>
</ul>
</div>
<div id="sim_design" class="section level2">
<h2 class="hasAnchor">
<a href="#sim_design" class="anchor"></a>sim_design</h2>
<p>This function creates a dataset with a specific between- and/or within-subjects design. <a href="https://debruine.github.io/faux/articles/sim_design.html">see vignette</a></p>
<p>For example, the following creates a 2w*2b design with 100 observations in each cell. The between-subject factor is <code>pet</code> with two levels (<code>cat</code> and <code>dog</code>). The within-subject factor is <code>time</code> with two levels (<code>day</code> and <code>night</code>). The mean for the <code>cat_day</code> cell is 10, the mean for the <code>cat_night</code> cell is 20, the mean for the <code>dog_day</code> cell is 15, and the mean for the <code>dog_night</code> cell is 25. All cells have a SD of 5 and all within-subject cells are correlated <code>r = 0.5</code>. The resulting data has exactly these values (set <code>empirical = FALSE</code> to sample from a population with these values). Set <code>plot = TRUE</code> to show a plot of means and SDs.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">between &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">"pet"</span> =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"cat"</span> =<span class="st"> "Cat Owners"</span>, <span class="st">"dog"</span> =<span class="st"> "Dog Owners"</span>))
within &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">"time"</span> =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"day"</span>, <span class="st">"night"</span>))
mu &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(
  <span class="dt">cat =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">10</span>, <span class="dv">20</span>),
  <span class="dt">dog =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">15</span>, <span class="dv">25</span>),
  <span class="dt">row.names =</span> within<span class="op">$</span>time
)
df &lt;-<span class="st"> </span><span class="kw"><a href="reference/sim_design.html">sim_design</a></span>(within, between, 
                 <span class="dt">n =</span> <span class="dv">100</span>, <span class="dt">mu =</span> mu, <span class="dt">sd =</span> <span class="dv">5</span>, <span class="dt">r =</span> .<span class="dv">5</span>,
                 <span class="dt">empirical =</span> <span class="ot">TRUE</span>, <span class="dt">plot =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="index_files/figure-html/plot-sim-design-1.png" width="768"></p>
<table class="table table">
<caption>Sample <code><a href="reference/sim_design.html">sim_design()</a></code> stats</caption>
<thead><tr class="header">
<th align="left">pet</th>
<th align="right">n</th>
<th align="left">var</th>
<th align="right">day</th>
<th align="right">night</th>
<th align="right">mean</th>
<th align="right">sd</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">cat</td>
<td align="right">100</td>
<td align="left">day</td>
<td align="right">1.0</td>
<td align="right">0.5</td>
<td align="right">10</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">cat</td>
<td align="right">100</td>
<td align="left">night</td>
<td align="right">0.5</td>
<td align="right">1.0</td>
<td align="right">20</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">dog</td>
<td align="right">100</td>
<td align="left">day</td>
<td align="right">1.0</td>
<td align="right">0.5</td>
<td align="right">15</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">dog</td>
<td align="right">100</td>
<td align="left">night</td>
<td align="right">0.5</td>
<td align="right">1.0</td>
<td align="right">25</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
<p>You can plot the data from <code><a href="reference/sim_design.html">sim_design()</a></code> and swap the factor visualisations. <a href="https://debruine.github.io/faux/articles/plots.html">see vignette</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p1 &lt;-<span class="st"> </span><span class="kw"><a href="reference/plot_design.html">plot_design</a></span>(df)
p2 &lt;-<span class="st"> </span><span class="kw"><a href="reference/plot_design.html">plot_design</a></span>(df, <span class="st">"pet"</span>, <span class="st">"time"</span>)

cowplot<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/cowplot/topics/plot_grid">plot_grid</a></span>(p1, p2, <span class="dt">nrow =</span> <span class="dv">2</span>, <span class="dt">align =</span> <span class="st">"v"</span>)</code></pre></div>
<p><img src="index_files/figure-html/plot-design-1.png" width="768"></p>
</div>
<div id="sim_df" class="section level2">
<h2 class="hasAnchor">
<a href="#sim_df" class="anchor"></a>sim_df</h2>
<p>This function produces a data table with the same distributions and correlations as an existing data table. It only returns numeric columns and simulates all numeric variables from a continuous normal distribution (for now). <a href="https://debruine.github.io/faux/articles/sim_df.html">see vignette</a></p>
<p>For example, the following code creates a new sample from the built-in dataset <code>iris</code> with 50 observations of each species.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">new_iris &lt;-<span class="st"> </span><span class="kw"><a href="reference/sim_df.html">sim_df</a></span>(iris, <span class="dv">50</span>, <span class="dt">between =</span> <span class="st">"Species"</span>) </code></pre></div>
<div class="figure">
<img src="index_files/figure-html/plot-iris-sim-1.png" alt="Simulated iris dataset" width="768"><p class="caption">
Simulated iris dataset
</p>
</div>
</div>
<div id="sim_mixed_cc" class="section level2">
<h2 class="hasAnchor">
<a href="#sim_mixed_cc" class="anchor"></a>sim_mixed_cc</h2>
<p>This function produces a data table for a basic cross-classified design with random intercepts for subjects and items.</p>
<p>For example, the following code produces the data for 100 subjects responding to 50 items where the response has an overall mean (<code>grand_i</code>) of 10. Subjects vary in their average response with an SD of 1, items vary in their average response with an SD of 2, and the residual error term has an SD of 3.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span><span class="kw"><a href="reference/sim_mixed_cc.html">sim_mixed_cc</a></span>(
  <span class="dt">sub_n =</span> <span class="dv">100</span>,  <span class="co"># subject sample size</span>
  <span class="dt">item_n =</span> <span class="dv">50</span>,  <span class="co"># item sample size</span>
  <span class="dt">grand_i =</span> <span class="dv">10</span>, <span class="co"># overall mean of the score</span>
  <span class="dt">sub_sd =</span> <span class="dv">1</span>,   <span class="co"># SD of subject random intercepts</span>
  <span class="dt">item_sd =</span> <span class="dv">2</span>,  <span class="co"># SD of item random intercepts</span>
  <span class="dt">error_sd =</span> <span class="dv">3</span>  <span class="co"># SD of residual error</span>
)</code></pre></div>
<p>You can then see how changing these numbers affects the random effects in an intercept-only mixed effects model.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lme4<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/lme4/topics/lmer">lmer</a></span>(y <span class="op">~</span><span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">|</span><span class="st"> </span>sub_id) <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">|</span><span class="st"> </span>item_id), <span class="dt">data =</span> dat) <span class="op">%&gt;%</span>
<span class="st">  </span>broom.mixed<span class="op">::</span><span class="kw">tidy</span>() <span class="op">%&gt;%</span>
<span class="st">  </span>knitr<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="dt">digits =</span> <span class="dv">3</span>)</code></pre></div>
<table class="table table">
<thead><tr class="header">
<th align="left">effect</th>
<th align="left">group</th>
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">fixed</td>
<td align="left">NA</td>
<td align="left">(Intercept)</td>
<td align="right">10.073</td>
<td align="right">0.311</td>
<td align="right">32.388</td>
</tr>
<tr class="even">
<td align="left">ran_pars</td>
<td align="left">sub_id</td>
<td align="left">sd__(Intercept)</td>
<td align="right">1.016</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">ran_pars</td>
<td align="left">item_id</td>
<td align="left">sd__(Intercept)</td>
<td align="right">2.058</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">ran_pars</td>
<td align="left">Residual</td>
<td align="left">sd__Observation</td>
<td align="right">2.937</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
</div>
<div id="sim_mixed_df" class="section level2">
<h2 class="hasAnchor">
<a href="#sim_mixed_df" class="anchor"></a>sim_mixed_df</h2>
<p>This function uses <code><a href="https://www.rdocumentation.org/packages/lme4/topics/lmer">lme4::lmer()</a></code> to get subject, item and error SDs from an existing dataset and simulates a new dataset with the specified number of subjects and items with distributions drawn from the example data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
new_dat &lt;-<span class="st"> </span><span class="kw"><a href="reference/sim_mixed_df.html">sim_mixed_df</a></span>(fr4, 
                        <span class="dt">sub_n =</span> <span class="dv">100</span>, 
                        <span class="dt">item_n =</span> <span class="dv">50</span>, 
                        <span class="dt">dv =</span> <span class="st">"rating"</span>, 
                        <span class="dt">sub_id =</span> <span class="st">"rater_id"</span>, 
                        <span class="dt">item_id =</span> <span class="st">"face_id"</span>)</code></pre></div>
</div>
<div id="rnorm_multi" class="section level2">
<h2 class="hasAnchor">
<a href="#rnorm_multi" class="anchor"></a>rnorm_multi</h2>
<p>This function makes multiple normally distributed vectors with specified parameters and relationships. <a href="https://debruine.github.io/faux/articles/rnorm_multi.html">see vignette</a></p>
<p>For example, the following creates a sample that has 100 observations of 3 variables, drawn from a population where A has a mean of 0 and SD of 1, while B and C have means of 20 and SDs of 5. A correlates with B and C with r = 0.5, and B and C correlate with r = 0.25.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
dat &lt;-<span class="st"> </span><span class="kw"><a href="reference/rnorm_multi.html">rnorm_multi</a></span>(
  <span class="dt">n =</span> <span class="dv">100</span>, 
  <span class="dt">mu =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">20</span>),
  <span class="dt">sd =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">5</span>),
  <span class="dt">r =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.25</span>), 
  <span class="dt">varnames =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>),
  <span class="dt">empirical =</span> <span class="ot">FALSE</span>
)</code></pre></div>
<table class="table table">
<caption>Sample <code><a href="reference/rnorm_multi.html">rnorm_multi()</a></code> stats</caption>
<thead><tr class="header">
<th align="right">n</th>
<th align="left">var</th>
<th align="right">A</th>
<th align="right">B</th>
<th align="right">C</th>
<th align="right">mean</th>
<th align="right">sd</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">100</td>
<td align="left">A</td>
<td align="right">1.00</td>
<td align="right">0.51</td>
<td align="right">0.55</td>
<td align="right">0.08</td>
<td align="right">1.01</td>
</tr>
<tr class="even">
<td align="right">100</td>
<td align="left">B</td>
<td align="right">0.51</td>
<td align="right">1.00</td>
<td align="right">0.28</td>
<td align="right">19.90</td>
<td align="right">4.93</td>
</tr>
<tr class="odd">
<td align="right">100</td>
<td align="left">C</td>
<td align="right">0.55</td>
<td align="right">0.28</td>
<td align="right">1.00</td>
<td align="right">20.58</td>
<td align="right">5.02</td>
</tr>
</tbody>
</table>
</div>
<div id="rnorm_pre" class="section level2">
<h2 class="hasAnchor">
<a href="#rnorm_pre" class="anchor"></a>rnorm_pre</h2>
<p>This function creates a vector that has a specified correlation with an existing vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create a pre-existing vector x</span>
x &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">1</span>)

<span class="co"># create a vector y with exactly mean=0, sd=1, and r(x,y)=0.5</span>
y &lt;-<span class="st"> </span><span class="kw"><a href="reference/rnorm_pre.html">rnorm_pre</a></span>(x, <span class="dt">mu =</span> <span class="dv">0</span>, <span class="dt">sd =</span> <span class="dv">1</span>, <span class="dt">r =</span> <span class="fl">0.5</span>, <span class="dt">empirical =</span> <span class="ot">TRUE</span>)

<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(
  <span class="dt">mean =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/mean">mean</a></span>(y),
  <span class="dt">sd =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/sd">sd</a></span>(y),
  <span class="dt">r =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/cor">cor</a></span>(x,y)
) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>()
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ mean: num -1.33e-17</span>
<span class="co">#&gt;  $ sd  : num 1</span>
<span class="co">#&gt;  $ r   : num 0.5</span></code></pre></div>
<p>If <code>empirical = FALSE</code> (the default), this resulting vector is sampled from a population with the specified parameters (but won’t have <em>exactly</em> those properties).</p>
<div class="figure">
<img src="index_files/figure-html/plot-rnorm-pre-1.png" alt="Distribution of 1000 samples from rnorm_pre" width="768"><p class="caption">
Distribution of 1000 samples from rnorm_pre
</p>
</div>
</div>
<div id="add_func" class="section level2">
<h2 class="hasAnchor">
<a href="#add_func" class="anchor"></a>Additional functions</h2>
<div id="messy" class="section level3">
<h3 class="hasAnchor">
<a href="#messy" class="anchor"></a>messy</h3>
<p>Sometimes you want to mess up a dataset for teaching (thanks for the idea, Emily!). The <code><a href="reference/messy.html">messy()</a></code> function will replace <code>prop</code> proportion of the data in the specified columns with the value of <code>replace</code> (defaults to <code>NA</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># replace 10% of Species with NA</span>
iris2 &lt;-<span class="st"> </span><span class="kw"><a href="reference/messy.html">messy</a></span>(iris, <span class="fl">0.1</span>, <span class="st">"Species"</span>)

<span class="co"># replace 10% of petal.Width adn Sepal.Width with NA</span>
iris3 &lt;-<span class="st"> </span><span class="kw"><a href="reference/messy.html">messy</a></span>(iris, <span class="fl">0.1</span>, <span class="st">"Petal.Width"</span>, <span class="st">"Sepal.Width"</span>)

<span class="co"># replace 50% of columns 1-2 with NA</span>
iris4 &lt;-<span class="st"> </span><span class="kw"><a href="reference/messy.html">messy</a></span>(iris, <span class="fl">0.5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)

<span class="co"># replace 50% of Species with "NOPE"</span>
iris5 &lt;-<span class="st"> </span><span class="kw"><a href="reference/messy.html">messy</a></span>(iris, <span class="fl">0.5</span>, <span class="st">"Species"</span>, <span class="dt">replace =</span> <span class="st">"NOPE"</span>)</code></pre></div>
</div>
<div id="get_params" class="section level3">
<h3 class="hasAnchor">
<a href="#get_params" class="anchor"></a>get_params</h3>
<p>If you want to check your simulated stats or just describe an existing dataset, use <code><a href="reference/get_params.html">get_params()</a></code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/get_params.html">get_params</a></span>(iris)</code></pre></div>
<table class="table table">
<thead><tr class="header">
<th align="right">n</th>
<th align="left">var</th>
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="right">mean</th>
<th align="right">sd</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">150</td>
<td align="left">Sepal.Length</td>
<td align="right">1.00</td>
<td align="right">-0.12</td>
<td align="right">0.87</td>
<td align="right">0.82</td>
<td align="right">5.84</td>
<td align="right">0.83</td>
</tr>
<tr class="even">
<td align="right">150</td>
<td align="left">Sepal.Width</td>
<td align="right">-0.12</td>
<td align="right">1.00</td>
<td align="right">-0.43</td>
<td align="right">-0.37</td>
<td align="right">3.06</td>
<td align="right">0.44</td>
</tr>
<tr class="odd">
<td align="right">150</td>
<td align="left">Petal.Length</td>
<td align="right">0.87</td>
<td align="right">-0.43</td>
<td align="right">1.00</td>
<td align="right">0.96</td>
<td align="right">3.76</td>
<td align="right">1.77</td>
</tr>
<tr class="even">
<td align="right">150</td>
<td align="left">Petal.Width</td>
<td align="right">0.82</td>
<td align="right">-0.37</td>
<td align="right">0.96</td>
<td align="right">1.00</td>
<td align="right">1.20</td>
<td align="right">0.76</td>
</tr>
</tbody>
</table>
<p>You can also group your data and change the digits to round.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/get_params.html">get_params</a></span>(iris, 
           <span class="dt">between =</span> <span class="st">"Species"</span>, 
           <span class="dt">digits =</span> <span class="dv">3</span>)</code></pre></div>
<table class="table table">
<thead><tr class="header">
<th align="left">Species</th>
<th align="right">n</th>
<th align="left">var</th>
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="right">mean</th>
<th align="right">sd</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">setosa</td>
<td align="right">50</td>
<td align="left">Sepal.Length</td>
<td align="right">1.00</td>
<td align="right">0.74</td>
<td align="right">0.27</td>
<td align="right">0.28</td>
<td align="right">5.01</td>
<td align="right">0.35</td>
</tr>
<tr class="even">
<td align="left">setosa</td>
<td align="right">50</td>
<td align="left">Sepal.Width</td>
<td align="right">0.74</td>
<td align="right">1.00</td>
<td align="right">0.18</td>
<td align="right">0.23</td>
<td align="right">3.43</td>
<td align="right">0.38</td>
</tr>
<tr class="odd">
<td align="left">setosa</td>
<td align="right">50</td>
<td align="left">Petal.Length</td>
<td align="right">0.27</td>
<td align="right">0.18</td>
<td align="right">1.00</td>
<td align="right">0.33</td>
<td align="right">1.46</td>
<td align="right">0.17</td>
</tr>
<tr class="even">
<td align="left">setosa</td>
<td align="right">50</td>
<td align="left">Petal.Width</td>
<td align="right">0.28</td>
<td align="right">0.23</td>
<td align="right">0.33</td>
<td align="right">1.00</td>
<td align="right">0.25</td>
<td align="right">0.11</td>
</tr>
<tr class="odd">
<td align="left">versicolor</td>
<td align="right">50</td>
<td align="left">Sepal.Length</td>
<td align="right">1.00</td>
<td align="right">0.53</td>
<td align="right">0.75</td>
<td align="right">0.55</td>
<td align="right">5.94</td>
<td align="right">0.52</td>
</tr>
<tr class="even">
<td align="left">versicolor</td>
<td align="right">50</td>
<td align="left">Sepal.Width</td>
<td align="right">0.53</td>
<td align="right">1.00</td>
<td align="right">0.56</td>
<td align="right">0.66</td>
<td align="right">2.77</td>
<td align="right">0.31</td>
</tr>
<tr class="odd">
<td align="left">versicolor</td>
<td align="right">50</td>
<td align="left">Petal.Length</td>
<td align="right">0.75</td>
<td align="right">0.56</td>
<td align="right">1.00</td>
<td align="right">0.79</td>
<td align="right">4.26</td>
<td align="right">0.47</td>
</tr>
<tr class="even">
<td align="left">versicolor</td>
<td align="right">50</td>
<td align="left">Petal.Width</td>
<td align="right">0.55</td>
<td align="right">0.66</td>
<td align="right">0.79</td>
<td align="right">1.00</td>
<td align="right">1.33</td>
<td align="right">0.20</td>
</tr>
<tr class="odd">
<td align="left">virginica</td>
<td align="right">50</td>
<td align="left">Sepal.Length</td>
<td align="right">1.00</td>
<td align="right">0.46</td>
<td align="right">0.86</td>
<td align="right">0.28</td>
<td align="right">6.59</td>
<td align="right">0.64</td>
</tr>
<tr class="even">
<td align="left">virginica</td>
<td align="right">50</td>
<td align="left">Sepal.Width</td>
<td align="right">0.46</td>
<td align="right">1.00</td>
<td align="right">0.40</td>
<td align="right">0.54</td>
<td align="right">2.97</td>
<td align="right">0.32</td>
</tr>
<tr class="odd">
<td align="left">virginica</td>
<td align="right">50</td>
<td align="left">Petal.Length</td>
<td align="right">0.86</td>
<td align="right">0.40</td>
<td align="right">1.00</td>
<td align="right">0.32</td>
<td align="right">5.55</td>
<td align="right">0.55</td>
</tr>
<tr class="even">
<td align="left">virginica</td>
<td align="right">50</td>
<td align="left">Petal.Width</td>
<td align="right">0.28</td>
<td align="right">0.54</td>
<td align="right">0.32</td>
<td align="right">1.00</td>
<td align="right">2.03</td>
<td align="right">0.27</td>
</tr>
</tbody>
</table>
</div>
<div id="make_id" class="section level3">
<h3 class="hasAnchor">
<a href="#make_id" class="anchor"></a>make_id</h3>
<p>It is useful for IDs for random effects (e.g., subjects or stimuli) to be character strings (so you don’t accidentally include them as fixed effects) with the same length s(o you can sort them in order like S01, S02,…, S10 rather than S1, S10, S2, …) This function returns a list of IDs that have the same string length and a specified prefix.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/make_id.html">make_id</a></span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dt">prefix =</span> <span class="st">"ITEM_"</span>)
<span class="co">#&gt;  [1] "ITEM_01" "ITEM_02" "ITEM_03" "ITEM_04" "ITEM_05" "ITEM_06" "ITEM_07"</span>
<span class="co">#&gt;  [8] "ITEM_08" "ITEM_09" "ITEM_10"</span></code></pre></div>
<p>You can also manually set the number of digits and set <code>n</code> to a range of integers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/make_id.html">make_id</a></span>(<span class="dt">n =</span> <span class="dv">10</span><span class="op">:</span><span class="dv">20</span>, <span class="dt">digits =</span> <span class="dv">3</span>)
<span class="co">#&gt;  [1] "S010" "S011" "S012" "S013" "S014" "S015" "S016" "S017" "S018" "S019"</span>
<span class="co">#&gt; [11] "S020"</span></code></pre></div>
</div>
<div id="long2wide" class="section level3">
<h3 class="hasAnchor">
<a href="#long2wide" class="anchor"></a>long2wide</h3>
<p>Convert a data table made with faux from long to wide.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">between &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">"pet"</span> =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"cat"</span>, <span class="st">"dog"</span>))
within &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">"time"</span> =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"day"</span>, <span class="st">"night"</span>))
df_long &lt;-<span class="st"> </span><span class="kw"><a href="reference/sim_design.html">sim_design</a></span>(within, between, <span class="dt">long =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="index_files/figure-html/long2wide-1.png" width="768"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
df_wide &lt;-<span class="st"> </span><span class="kw"><a href="reference/long2wide.html">long2wide</a></span>(df_long)</code></pre></div>
<table class="table table">
<thead><tr class="header">
<th align="left">id</th>
<th align="left">pet</th>
<th align="right">day</th>
<th align="right">night</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">S001</td>
<td align="left">cat</td>
<td align="right">-0.4716967</td>
<td align="right">-0.5028944</td>
</tr>
<tr class="even">
<td align="left">S002</td>
<td align="left">cat</td>
<td align="right">-0.4883249</td>
<td align="right">-0.4010576</td>
</tr>
<tr class="odd">
<td align="left">S003</td>
<td align="left">cat</td>
<td align="right">-0.3179796</td>
<td align="right">0.2211064</td>
</tr>
<tr class="even">
<td align="left">S004</td>
<td align="left">cat</td>
<td align="right">-0.6062085</td>
<td align="right">0.7765950</td>
</tr>
<tr class="odd">
<td align="left">S005</td>
<td align="left">cat</td>
<td align="right">1.0692633</td>
<td align="right">-1.6403173</td>
</tr>
<tr class="even">
<td align="left">S006</td>
<td align="left">cat</td>
<td align="right">-0.9743776</td>
<td align="right">-0.2294919</td>
</tr>
</tbody>
</table>
<p>If you have a data table not made by faux, you need to specify the within-subject columns, the between-subject columns, the DV column, and the ID column.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># make a long data table</span>
df_long &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/expand.grid">expand.grid</a></span>(
  <span class="dt">sub_id =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,
  <span class="dt">A =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"A1"</span>, <span class="st">"A2"</span>),
  <span class="dt">B =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"B1"</span>, <span class="st">"B2"</span>)
)
df_long<span class="op">$</span>C &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"C1"</span>, <span class="st">"C2"</span>), <span class="dv">20</span>)
df_long<span class="op">$</span>score &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">40</span>)

<span class="co"># convert it to wide</span>
df_wide &lt;-<span class="st"> </span><span class="kw"><a href="reference/long2wide.html">long2wide</a></span>(df_long, <span class="dt">within =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"A"</span>, <span class="st">"B"</span>), 
                     <span class="dt">between =</span> <span class="st">"C"</span>, <span class="dt">dv =</span> <span class="st">"score"</span>, <span class="dt">id =</span> <span class="st">"sub_id"</span>)</code></pre></div>
<table class="table table">
<thead><tr class="header">
<th align="right">sub_id</th>
<th align="left">C</th>
<th align="right">A1_B1</th>
<th align="right">A1_B2</th>
<th align="right">A2_B1</th>
<th align="right">A2_B2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">C1</td>
<td align="right">0.5155250</td>
<td align="right">0.0236974</td>
<td align="right">-0.8559099</td>
<td align="right">-0.2476252</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">C2</td>
<td align="right">1.7126586</td>
<td align="right">-0.3393816</td>
<td align="right">-0.7922569</td>
<td align="right">0.6288110</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">C1</td>
<td align="right">-1.8289396</td>
<td align="right">-0.5809952</td>
<td align="right">-1.3774323</td>
<td align="right">-0.0658665</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">C2</td>
<td align="right">1.7320068</td>
<td align="right">-0.5330786</td>
<td align="right">1.0126400</td>
<td align="right">-1.3936488</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">C1</td>
<td align="right">-0.1980841</td>
<td align="right">0.1887755</td>
<td align="right">0.7556978</td>
<td align="right">0.0951162</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">C2</td>
<td align="right">-1.7309580</td>
<td align="right">1.1195109</td>
<td align="right">0.3883780</td>
<td align="right">-1.2426219</td>
</tr>
</tbody>
</table>
</div>
<div id="wide2long" class="section level3">
<h3 class="hasAnchor">
<a href="#wide2long" class="anchor"></a>wide2long</h3>
<p>You can convert a data table made by faux from wide to long easily.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">between &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">"pet"</span> =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"cat"</span>, <span class="st">"dog"</span>))
within &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">"time"</span> =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"day"</span>, <span class="st">"night"</span>))
df_wide &lt;-<span class="st"> </span><span class="kw"><a href="reference/sim_design.html">sim_design</a></span>(within, between, <span class="dt">long =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><img src="index_files/figure-html/wide2long-1.png" width="768"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df_long &lt;-<span class="st"> </span><span class="kw"><a href="reference/wide2long.html">wide2long</a></span>(df_wide)</code></pre></div>
<table class="table table">
<thead><tr class="header">
<th align="left">id</th>
<th align="left">pet</th>
<th align="left">time</th>
<th align="right">y</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">S001</td>
<td align="left">cat</td>
<td align="left">day</td>
<td align="right">1.3290422</td>
</tr>
<tr class="even">
<td align="left">S002</td>
<td align="left">cat</td>
<td align="left">day</td>
<td align="right">0.1087942</td>
</tr>
<tr class="odd">
<td align="left">S003</td>
<td align="left">cat</td>
<td align="left">day</td>
<td align="right">0.2573105</td>
</tr>
<tr class="even">
<td align="left">S004</td>
<td align="left">cat</td>
<td align="left">day</td>
<td align="right">0.1548801</td>
</tr>
<tr class="odd">
<td align="left">S005</td>
<td align="left">cat</td>
<td align="left">day</td>
<td align="right">-0.4347730</td>
</tr>
<tr class="even">
<td align="left">S006</td>
<td align="left">cat</td>
<td align="left">day</td>
<td align="right">0.5253602</td>
</tr>
</tbody>
</table>
<p>If you have a data table not made by faux, you need to specify the within-subject factors and columns, and specify the names of the ID and DV columns to create.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">long_iris &lt;-<span class="st"> </span><span class="kw"><a href="reference/wide2long.html">wide2long</a></span>(
    iris,
    <span class="dt">within_factors =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"feature"</span>, <span class="st">"dimension"</span>),
    <span class="dt">within_cols =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>,
    <span class="dt">dv =</span> <span class="st">"value"</span>,
    <span class="dt">id =</span> <span class="st">"flower_id"</span>
  )</code></pre></div>
<table class="table table">
<thead><tr class="header">
<th align="left">Species</th>
<th align="left">flower_id</th>
<th align="left">feature</th>
<th align="left">dimension</th>
<th align="right">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">setosa</td>
<td align="left">S001</td>
<td align="left">Sepal</td>
<td align="left">Length</td>
<td align="right">5.1</td>
</tr>
<tr class="even">
<td align="left">setosa</td>
<td align="left">S002</td>
<td align="left">Sepal</td>
<td align="left">Length</td>
<td align="right">4.9</td>
</tr>
<tr class="odd">
<td align="left">setosa</td>
<td align="left">S003</td>
<td align="left">Sepal</td>
<td align="left">Length</td>
<td align="right">4.7</td>
</tr>
<tr class="even">
<td align="left">setosa</td>
<td align="left">S004</td>
<td align="left">Sepal</td>
<td align="left">Length</td>
<td align="right">4.6</td>
</tr>
<tr class="odd">
<td align="left">setosa</td>
<td align="left">S005</td>
<td align="left">Sepal</td>
<td align="left">Length</td>
<td align="right">5.0</td>
</tr>
<tr class="even">
<td align="left">setosa</td>
<td align="left">S006</td>
<td align="left">Sepal</td>
<td align="left">Length</td>
<td align="right">5.4</td>
</tr>
</tbody>
</table>
</div>
<div id="get_design_long" class="section level3">
<h3 class="hasAnchor">
<a href="#get_design_long" class="anchor"></a>get_design_long</h3>
<p>Once you have a dataframe in long format, you can recover the design from it.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">design &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_design_long.html">get_design_long</a></span>(long_iris, <span class="dt">dv =</span> <span class="st">"value"</span>, <span class="dt">id =</span> <span class="st">"flower_id"</span>)</code></pre></div>
<p><img src="index_files/figure-html/get-design-long-1.png" width="768"></p>
</div>
<div id="json_design" class="section level3">
<h3 class="hasAnchor">
<a href="#json_design" class="anchor"></a>json_design</h3>
<p>Then you can use <code><a href="reference/json_design.html">json_design()</a></code> to save the design to a file or view it in JSON format (condensed or pretty).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/json_design.html">json_design</a></span>(design)</code></pre></div>
<pre>
{"within":{"feature":{"Petal":"Petal","Sepal":"Sepal"},"dimension":{"Length":"Length","Width":"Width"}},"between":{"Species":{"setosa":"setosa","versicolor":"versicolor","virginica":"virginica"}},"dv":{"value":"value"},"id":{"flower_id":"flower_id"},"n":{"setosa":50,"versicolor":50,"virginica":50},"mu":{"setosa":{"Petal_Length":1.46,"Sepal_Length":5.01,"Petal_Width":0.25,"Sepal_Width":3.43},"versicolor":{"Petal_Length":4.26,"Sepal_Length":5.94,"Petal_Width":1.33,"Sepal_Width":2.77},"virginica":{"Petal_Length":5.55,"Sepal_Length":6.59,"Petal_Width":2.03,"Sepal_Width":2.97}},"sd":{"setosa":{"Petal_Length":0.17,"Sepal_Length":0.35,"Petal_Width":0.11,"Sepal_Width":0.38},"versicolor":{"Petal_Length":0.47,"Sepal_Length":0.52,"Petal_Width":0.2,"Sepal_Width":0.31},"virginica":{"Petal_Length":0.55,"Sepal_Length":0.64,"Petal_Width":0.27,"Sepal_Width":0.32}},"r":{"setosa":[[1,0.27,0.33,0.18],[0.27,1,0.28,0.74],[0.33,0.28,1,0.23],[0.18,0.74,0.23,1]],"versicolor":[[1,0.75,0.79,0.56],[0.75,1,0.55,0.53],[0.79,0.55,1,0.66],[0.56,0.53,0.66,1]],"virginica":[[1,0.86,0.32,0.4],[0.86,1,0.28,0.46],[0.32,0.28,1,0.54],[0.4,0.46,0.54,1]]}}
</pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/json_design.html">json_design</a></span>(design, <span class="dt">pretty =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre>
{
  "within": {
    "feature": {
      "Petal": "Petal",
      "Sepal": "Sepal"
    },
    "dimension": {
      "Length": "Length",
      "Width": "Width"
    }
  },
  "between": {
    "Species": {
      "setosa": "setosa",
      "versicolor": "versicolor",
      "virginica": "virginica"
    }
  },
  "dv": {
    "value": "value"
  },
  "id": {
    "flower_id": "flower_id"
  },
  "n": {
    "setosa": 50,
    "versicolor": 50,
    "virginica": 50
  },
  "mu": {
    "setosa": {
      "Petal_Length": 1.46,
      "Sepal_Length": 5.01,
      "Petal_Width": 0.25,
      "Sepal_Width": 3.43
    },
    "versicolor": {
      "Petal_Length": 4.26,
      "Sepal_Length": 5.94,
      "Petal_Width": 1.33,
      "Sepal_Width": 2.77
    },
    "virginica": {
      "Petal_Length": 5.55,
      "Sepal_Length": 6.59,
      "Petal_Width": 2.03,
      "Sepal_Width": 2.97
    }
  },
  "sd": {
    "setosa": {
      "Petal_Length": 0.17,
      "Sepal_Length": 0.35,
      "Petal_Width": 0.11,
      "Sepal_Width": 0.38
    },
    "versicolor": {
      "Petal_Length": 0.47,
      "Sepal_Length": 0.52,
      "Petal_Width": 0.2,
      "Sepal_Width": 0.31
    },
    "virginica": {
      "Petal_Length": 0.55,
      "Sepal_Length": 0.64,
      "Petal_Width": 0.27,
      "Sepal_Width": 0.32
    }
  },
  "r": {
    "setosa": [
      [1, 0.27, 0.33, 0.18],
      [0.27, 1, 0.28, 0.74],
      [0.33, 0.28, 1, 0.23],
      [0.18, 0.74, 0.23, 1]
    ],
    "versicolor": [
      [1, 0.75, 0.79, 0.56],
      [0.75, 1, 0.55, 0.53],
      [0.79, 0.55, 1, 0.66],
      [0.56, 0.53, 0.66, 1]
    ],
    "virginica": [
      [1, 0.86, 0.32, 0.4],
      [0.86, 1, 0.28, 0.46],
      [0.32, 0.28, 1, 0.54],
      [0.4, 0.46, 0.54, 1]
    ]
  }
}
</pre>
</div>
<div id="pos_def_limits" class="section level3">
<h3 class="hasAnchor">
<a href="#pos_def_limits" class="anchor"></a>pos_def_limits</h3>
<p>Not all correlation matrices are possible. For example, if variables A and B are correlated with r = 1.0, then the correlation between A and C can only be exactly equal to the correlation between B and C.</p>
<p>The function <code><a href="reference/pos_def_limits.html">pos_def_limits()</a></code> lets you know what the possible range of values is for the missing value in a correlation matrix with one missing value. The correlation values are entered just from the top right triangle of the matrix, with a single <code>NA</code> for the missing value.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lims &lt;-<span class="st"> </span><span class="kw"><a href="reference/pos_def_limits.html">pos_def_limits</a></span>(.<span class="dv">8</span>, .<span class="dv">2</span>, <span class="ot">NA</span>)</code></pre></div>
<table class="table table">
<thead><tr class="header">
<th align="right">min</th>
<th align="right">max</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">-0.427</td>
<td align="right">0.747</td>
</tr></tbody>
</table>
<p>For example, if r<sub>AB</sub> = 0.8 and r<sub>AC</sub> = 0.2, then -0.427 &lt;= r<sub>BC</sub> &lt;= 0.747.</p>
<p>If you enter a correlation matrix that contains impossible combinations, your limits will be <code>NA</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lims &lt;-<span class="st"> </span><span class="kw"><a href="reference/pos_def_limits.html">pos_def_limits</a></span>(.<span class="dv">8</span>, .<span class="dv">2</span>,  <span class="dv">0</span>,
                          <span class="op">-</span>.<span class="dv">5</span>, <span class="ot">NA</span>,
                               .<span class="dv">2</span>)</code></pre></div>
<table class="table table">
<thead><tr class="header">
<th align="left">min</th>
<th align="left">max</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">NA</td>
<td align="left">NA</td>
</tr></tbody>
</table>
</div>
<div id="is_pos_def" class="section level3">
<h3 class="hasAnchor">
<a href="#is_pos_def" class="anchor"></a>is_pos_def</h3>
<p>If you have a full matrix and want to know if it is positive definite, you can use the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(.<span class="dv">2</span>, .<span class="dv">3</span>, .<span class="dv">4</span>, .<span class="dv">2</span>,
      .<span class="dv">3</span>, <span class="op">-</span>.<span class="dv">1</span>, .<span class="dv">2</span>,
           .<span class="dv">4</span>, .<span class="dv">5</span>,
               .<span class="dv">3</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="reference/cormat_from_triangle.html">cormat_from_triangle</a></span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="reference/is_pos_def.html">is_pos_def</a></span>()
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">matrix</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, .<span class="dv">3</span>, <span class="op">-</span>.<span class="dv">9</span>, .<span class="dv">2</span>,
        .<span class="dv">3</span>,  <span class="dv">1</span>,  .<span class="dv">4</span>, .<span class="dv">5</span>,
       <span class="op">-</span>.<span class="dv">9</span>, .<span class="dv">4</span>,   <span class="dv">1</span>, .<span class="dv">3</span>,
        .<span class="dv">2</span>, .<span class="dv">5</span>,  .<span class="dv">3</span>,  <span class="dv">1</span>), <span class="dv">4</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="reference/is_pos_def.html">is_pos_def</a></span>()
<span class="co">#&gt; [1] FALSE</span></code></pre></div>
<p>Please note that the [34m’faux’[39m project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/debruine/faux">https://​github.com/​debruine/​faux</a>
</li>
<li>Report a bug at <br><a href="https://github.com/debruine/faux/issues">https://​github.com/​debruine/​faux/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing faux</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Lisa DeBruine <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-7523-5539" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://zenodo.org/badge/latestdoi/163506566"><img src="https://zenodo.org/badge/163506566.svg" alt="DOI"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://travis-ci.org/debruine/faux"><img src="https://travis-ci.org/debruine/faux.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/github/debruine/faux?branch=master"><img src="https://codecov.io/gh/debruine/faux/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Lisa DeBruine.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>

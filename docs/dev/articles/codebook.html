<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Codebook Demo • faux</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Codebook Demo">
<meta property="og:description" content="faux">
<meta property="og:image" content="https://debruine.github.io/faux/reference/figures/card.png">
<meta property="og:image:alt" content="Blue hexagon with the word FAUX in white">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@lisadebruine">
<meta name="twitter:site" content="@lisadebruine">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">faux</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/sim_design.html">Simulate by Design</a>
    </li>
    <li>
      <a href="../articles/rnorm_multi.html">Simulate Correlated Variables</a>
    </li>
    <li>
      <a href="../articles/sim_df.html">Simulate from Existing Data</a>
    </li>
    <li>
      <a href="../articles/continuous.html">Continuous Predictors</a>
    </li>
    <li>
      <a href="../articles/plots.html">Plotting</a>
    </li>
    <li>
      <a href="../articles/sim_mixed.html">Mixed Design Simulation</a>
    </li>
    <li>
      <a href="../articles/distributions.html">Distribution Conversions</a>
    </li>
    <li>
      <a href="../articles/codebook.html">Codebook Demo</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/debruine/faux/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="codebook_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Codebook Demo</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/debruine/faux/blob/master/vignettes/codebook.Rmd"><code>vignettes/codebook.Rmd</code></a></small>
      <div class="hidden name"><code>codebook.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/debruine/faux">faux</a></span><span class="op">)</span></code></pre></div>
<p>Codebooks in faux follow the <a href="https://docs.google.com/document/d/1u8o5jnWk0Iqp_J06PTu5NjBfVsdoPbBhstht6W0fFp0/edit">Psych-DS 0.1.0 format</a>, which is still in development.</p>
<div id="simulated-data" class="section level2">
<h2 class="hasAnchor">
<a href="#simulated-data" class="anchor"></a>Simulated Data</h2>
<p>When you simulate data with <code>sim_design</code>, the codebook function reads some parameters of the design.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pet_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_design.html">sim_design</a></span><span class="op">(</span>
  between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="st">"Cat Owners"</span>, 
                         dog <span class="op">=</span> <span class="st">"Dog Owners"</span><span class="op">)</span><span class="op">)</span>,
  n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>,
  dv <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>happy <span class="op">=</span> <span class="st">"Happiness Score"</span><span class="op">)</span>,
  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"Subject ID"</span><span class="op">)</span>,
  mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">12</span><span class="op">)</span>,
  sd <span class="op">=</span> <span class="fl">4</span>,
  plot <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
<p>You can set up a codebook with the function <code><a href="../reference/codebook.html">codebook()</a></code>. If you don’t specify the name, it defaults to the variable name (<code>pet_data</code>).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span><span class="op">)</span>
<span class="co">#&gt; id set to dataType string</span>
<span class="co">#&gt; pet set to dataType string</span>
<span class="co">#&gt; happy set to dataType float</span></code></pre></div>
<p>If you just type the codebook object into the console, you’ll see the info in JSON format like this.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cb</span>
<span class="co">#&gt; {</span>
<span class="co">#&gt;     "@context": "https://schema.org/",</span>
<span class="co">#&gt;     "@type": "Dataset",</span>
<span class="co">#&gt;     "name": "pet_data",</span>
<span class="co">#&gt;     "schemaVersion": "Psych-DS 0.1.0",</span>
<span class="co">#&gt;     "variableMeasured": [</span>
<span class="co">#&gt;         {</span>
<span class="co">#&gt;             "@type": "PropertyValue",</span>
<span class="co">#&gt;             "name": "id",</span>
<span class="co">#&gt;             "description": "Subject ID",</span>
<span class="co">#&gt;             "dataType": "string"</span>
<span class="co">#&gt;         },</span>
<span class="co">#&gt;         {</span>
<span class="co">#&gt;             "@type": "PropertyValue",</span>
<span class="co">#&gt;             "name": "pet",</span>
<span class="co">#&gt;             "description": "pet",</span>
<span class="co">#&gt;             "levels": {</span>
<span class="co">#&gt;                 "cat": "Cat Owners",</span>
<span class="co">#&gt;                 "dog": "Dog Owners"</span>
<span class="co">#&gt;             },</span>
<span class="co">#&gt;             "dataType": "string",</span>
<span class="co">#&gt;             "levelsOrdered": false</span>
<span class="co">#&gt;         },</span>
<span class="co">#&gt;         {</span>
<span class="co">#&gt;             "@type": "PropertyValue",</span>
<span class="co">#&gt;             "name": "happy",</span>
<span class="co">#&gt;             "description": "Happiness Score",</span>
<span class="co">#&gt;             "dataType": "float"</span>
<span class="co">#&gt;         }</span>
<span class="co">#&gt;     ]</span>
<span class="co">#&gt; }</span>
<span class="co">#&gt; </span></code></pre></div>
<p>If you set <code>return</code> to “list”, you get the codebook in an R list that prints like this.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span>, return <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span>
<span class="co">#&gt; id set to dataType string</span>
<span class="co">#&gt; pet set to dataType string</span>
<span class="co">#&gt; happy set to dataType float</span>
<span class="va">cb</span>
<span class="co">#&gt; Codebook for pet_data (Psych-DS 0.1.0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Dataset Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * name: pet_data</span>
<span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Column Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * id (string): Subject ID</span>
<span class="co">#&gt; * pet (string)</span>
<span class="co">#&gt;   * Levels</span>
<span class="co">#&gt;     * cat: Cat Owners</span>
<span class="co">#&gt;     * dog: Dog Owners</span>
<span class="co">#&gt;   * Ordered: FALSE</span>
<span class="co">#&gt; * happy (float): Happiness Score</span></code></pre></div>
<p>But the codebook is actually a nested list formatted like this:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">cb</span><span class="op">)</span>
<span class="co">#&gt; List of 5</span>
<span class="co">#&gt;  $ @context        : chr "https://schema.org/"</span>
<span class="co">#&gt;  $ @type           : chr "Dataset"</span>
<span class="co">#&gt;  $ name            : chr "pet_data"</span>
<span class="co">#&gt;  $ schemaVersion   : chr "Psych-DS 0.1.0"</span>
<span class="co">#&gt;  $ variableMeasured:List of 3</span>
<span class="co">#&gt;   ..$ :List of 4</span>
<span class="co">#&gt;   .. ..$ @type      : chr "PropertyValue"</span>
<span class="co">#&gt;   .. ..$ name       : chr "id"</span>
<span class="co">#&gt;   .. ..$ description: chr "Subject ID"</span>
<span class="co">#&gt;   .. ..$ dataType   : chr "string"</span>
<span class="co">#&gt;   ..$ :List of 6</span>
<span class="co">#&gt;   .. ..$ @type        : chr "PropertyValue"</span>
<span class="co">#&gt;   .. ..$ name         : chr "pet"</span>
<span class="co">#&gt;   .. ..$ description  : chr "pet"</span>
<span class="co">#&gt;   .. ..$ levels       :List of 2</span>
<span class="co">#&gt;   .. .. ..$ cat: chr "Cat Owners"</span>
<span class="co">#&gt;   .. .. ..$ dog: chr "Dog Owners"</span>
<span class="co">#&gt;   .. ..$ dataType     : chr "string"</span>
<span class="co">#&gt;   .. ..$ levelsOrdered: logi FALSE</span>
<span class="co">#&gt;   ..$ :List of 4</span>
<span class="co">#&gt;   .. ..$ @type      : chr "PropertyValue"</span>
<span class="co">#&gt;   .. ..$ name       : chr "happy"</span>
<span class="co">#&gt;   .. ..$ description: chr "Happiness Score"</span>
<span class="co">#&gt;   .. ..$ dataType   : chr "float"</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "psychds_codebook" "list"</span></code></pre></div>
<div id="variable-parameters" class="section level3">
<h3 class="hasAnchor">
<a href="#variable-parameters" class="anchor"></a>Variable parameters</h3>
<p>Above you saw messages about the data type that codebook guesses for each column. You can override this by setting the values manually. Below, we’ll create a new column called <code>followup</code> consisting of 0 and 1 values, change the data type of the column from integer to boolean (T/F) and also set descriptions for <code>id</code>, <code>pet</code> and <code>followup</code>. The <code>id</code> column had a description of “Subject ID” from the <code>sim_design</code> function, but properties set in using <code>vardesc</code> will override this. You can also add unobserved levels to a factor.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">pet_data</span><span class="op">$</span><span class="va">followup</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">pet_data</span><span class="op">)</span>, <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">vardesc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  dataType <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>followup <span class="op">=</span> <span class="st">"b"</span><span class="op">)</span>,
  description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"Pet ID"</span>,
                  pet <span class="op">=</span> <span class="st">"Pet Type"</span>,
                  followup <span class="op">=</span> <span class="st">"Followed up 2 weeks later"</span>
                  <span class="op">)</span>,
  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="st">"Cat Owners"</span>,
                        dog <span class="op">=</span> <span class="st">"Dog Owners"</span>, 
                        ferret <span class="op">=</span> <span class="st">"Ferret Owners"</span><span class="op">)</span>,
                followup <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0"</span> <span class="op">=</span> <span class="st">"No"</span>, <span class="st">"1"</span> <span class="op">=</span> <span class="st">"Yes"</span><span class="op">)</span>
            <span class="op">)</span>
<span class="op">)</span>
<span class="va">cb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span>, name <span class="op">=</span> <span class="st">"pets"</span>, <span class="va">vardesc</span>, return <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span>
<span class="co">#&gt; id set to dataType string</span>
<span class="co">#&gt; pet set to dataType string</span>
<span class="co">#&gt; happy set to dataType float</span>

<span class="va">cb</span>
<span class="co">#&gt; Codebook for pets (Psych-DS 0.1.0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Dataset Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * name: pets</span>
<span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Column Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * id (string): Pet ID</span>
<span class="co">#&gt; * pet (string): Pet Type</span>
<span class="co">#&gt;   * Levels</span>
<span class="co">#&gt;     * cat: Cat Owners</span>
<span class="co">#&gt;     * dog: Dog Owners</span>
<span class="co">#&gt;     * ferret: Ferret Owners</span>
<span class="co">#&gt;   * Ordered: FALSE</span>
<span class="co">#&gt; * happy (float): Happiness Score</span>
<span class="co">#&gt; * followup (bool): Followed up 2 weeks later</span>
<span class="co">#&gt;   * Levels</span>
<span class="co">#&gt;     * 0: No</span>
<span class="co">#&gt;     * 1: Yes</span>
<span class="co">#&gt;   * Ordered: FALSE</span></code></pre></div>
<p>You can change the data type of a column in the codebook, but this won’t affect the data itself unless you set the <code>return</code> argument to “data”. This runs type conversion on each column and gives you a warning if type can’t be converted.</p>
<p>Note how we had to change the levels for the variable <code>followup</code> because we’re converting them to boolean (logical) values and how the names in the levels vector have to be strings.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">vardesc</span><span class="op">$</span><span class="va">levels</span><span class="op">$</span><span class="va">followup</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"FALSE"</span> <span class="op">=</span> <span class="st">"No"</span>, <span class="st">"TRUE"</span> <span class="op">=</span> <span class="st">"Yes"</span><span class="op">)</span>
<span class="va">converted_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span>, <span class="st">"pets"</span>, <span class="va">vardesc</span>, return <span class="op">=</span> <span class="st">"data"</span><span class="op">)</span>
<span class="co">#&gt; id set to dataType string</span>
<span class="co">#&gt; pet set to dataType string</span>
<span class="co">#&gt; happy set to dataType float</span>
<span class="co">#&gt; Converting pet from int to string</span>
<span class="co">#&gt; Converting followup from int to bool</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">converted_data</span><span class="op">)</span>
<span class="co">#&gt;    id pet     happy followup</span>
<span class="co">#&gt; 1 S01 cat  6.013671     TRUE</span>
<span class="co">#&gt; 2 S02 cat 12.887297     TRUE</span>
<span class="co">#&gt; 3 S03 cat  7.531165     TRUE</span>
<span class="co">#&gt; 4 S04 cat 18.117566     TRUE</span>
<span class="co">#&gt; 5 S05 dog 16.261664     TRUE</span>
<span class="co">#&gt; 6 S06 dog 15.948879    FALSE</span></code></pre></div>
<p>The codebook is attached to the returned converted data as an attribute and can be accessed as follows.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">converted_data</span>, <span class="st">"codebook"</span><span class="op">)</span>
<span class="co">#&gt; Codebook for pets (Psych-DS 0.1.0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Dataset Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * name: pets</span>
<span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Column Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * id (string): Pet ID</span>
<span class="co">#&gt; * pet (string): Pet Type</span>
<span class="co">#&gt;   * Levels</span>
<span class="co">#&gt;     * cat: Cat Owners</span>
<span class="co">#&gt;     * dog: Dog Owners</span>
<span class="co">#&gt;     * ferret: Ferret Owners</span>
<span class="co">#&gt;   * Ordered: FALSE</span>
<span class="co">#&gt; * happy (float): Happiness Score</span>
<span class="co">#&gt; * followup (bool): Followed up 2 weeks later</span>
<span class="co">#&gt;   * Levels</span>
<span class="co">#&gt;     * FALSE: No</span>
<span class="co">#&gt;     * TRUE: Yes</span>
<span class="co">#&gt;   * Ordered: FALSE</span></code></pre></div>
<p>You can set other variable parameters than name, type, description, and levels. The variable parameters that Psych-DS currently supports are: “description”, “privacy”, “dataType”, “propertyID”, “minValue”, “maxValue”, “levels”, “ordered”, “na”, “naValues”, “alternateName”, and “unitCode”. See the <a href="https://docs.google.com/document/d/1u8o5jnWk0Iqp_J06PTu5NjBfVsdoPbBhstht6W0fFp0/edit">technical specs</a> for descriptions of these properties. You can add custom parameters, but will get a warning.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span>, vardesc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>new_param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"YES"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Warning in codebook(pet_data, vardesc = list(new_param = c(id = "YES"))): The following variable properties are not standard: new_param</span>
<span class="co">#&gt; id set to dataType string</span>
<span class="co">#&gt; pet set to dataType string</span>
<span class="co">#&gt; happy set to dataType float</span>
<span class="co">#&gt; followup set to dataType int</span></code></pre></div>
<p>If you have a column that is an ordered factor, the codebook will look like this:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  initial <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">LETTERS</span>, <span class="fl">10</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">dat</span><span class="op">$</span><span class="va">initial</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">initial</span>, levels <span class="op">=</span> <span class="va">LETTERS</span>, ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">alevels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"The letter"</span>, <span class="va">LETTERS</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">alevels</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">LETTERS</span>

<span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">dat</span>, vardesc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>initial <span class="op">=</span> <span class="va">alevels</span><span class="op">)</span><span class="op">)</span>, return <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span>
<span class="co">#&gt; initial set to dataType string</span>
<span class="co">#&gt; Codebook for dat (Psych-DS 0.1.0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Dataset Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * name: dat</span>
<span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Column Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * initial (string)</span>
<span class="co">#&gt;   * Levels</span>
<span class="co">#&gt;     * A: The letter A</span>
<span class="co">#&gt;     * B: The letter B</span>
<span class="co">#&gt;     * C: The letter C</span>
<span class="co">#&gt;     * D: The letter D</span>
<span class="co">#&gt;     * E: The letter E</span>
<span class="co">#&gt;     * F: The letter F</span>
<span class="co">#&gt;     * G: The letter G</span>
<span class="co">#&gt;     * H: The letter H</span>
<span class="co">#&gt;     * I: The letter I</span>
<span class="co">#&gt;     * J: The letter J</span>
<span class="co">#&gt;     * K: The letter K</span>
<span class="co">#&gt;     * L: The letter L</span>
<span class="co">#&gt;     * M: The letter M</span>
<span class="co">#&gt;     * N: The letter N</span>
<span class="co">#&gt;     * O: The letter O</span>
<span class="co">#&gt;     * P: The letter P</span>
<span class="co">#&gt;     * Q: The letter Q</span>
<span class="co">#&gt;     * R: The letter R</span>
<span class="co">#&gt;     * S: The letter S</span>
<span class="co">#&gt;     * T: The letter T</span>
<span class="co">#&gt;     * U: The letter U</span>
<span class="co">#&gt;     * V: The letter V</span>
<span class="co">#&gt;     * W: The letter W</span>
<span class="co">#&gt;     * X: The letter X</span>
<span class="co">#&gt;     * Y: The letter Y</span>
<span class="co">#&gt;     * Z: The letter Z</span>
<span class="co">#&gt;   * Ordered: TRUE</span></code></pre></div>
</div>
<div id="dataset-parameters" class="section level3">
<h3 class="hasAnchor">
<a href="#dataset-parameters" class="anchor"></a>Dataset Parameters</h3>
<p>You can add extra parameters to the whole data set. Psych-DS supports the following: “license”, “author”, “citation”, “funder”, “url”, “sameAs”, “keywords”, “temporalCoverage”, “spatialCoverage”, “datePublished”, “dateCreated”. As with variable parameters, you can add custom parameters and will just get a warning.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">pet_data</span>, license <span class="op">=</span> <span class="st">"CC-BY 3.0"</span>, author <span class="op">=</span> <span class="st">"Lisa DeBruine"</span>, source <span class="op">=</span> <span class="st">"faux"</span><span class="op">)</span>
<span class="co">#&gt; Warning in codebook(pet_data, license = "CC-BY 3.0", author = "Lisa DeBruine", : The following dataset properties are not standard: source</span>
<span class="co">#&gt; id set to dataType string</span>
<span class="co">#&gt; pet set to dataType string</span>
<span class="co">#&gt; happy set to dataType float</span>
<span class="co">#&gt; followup set to dataType int</span>
<span class="co">#&gt; {</span>
<span class="co">#&gt;     "@context": "https://schema.org/",</span>
<span class="co">#&gt;     "@type": "Dataset",</span>
<span class="co">#&gt;     "name": "pet_data",</span>
<span class="co">#&gt;     "schemaVersion": "Psych-DS 0.1.0",</span>
<span class="co">#&gt;     "license": "CC-BY 3.0",</span>
<span class="co">#&gt;     "author": "Lisa DeBruine",</span>
<span class="co">#&gt;     "source": "faux",</span>
<span class="co">#&gt;     "variableMeasured": [</span>
<span class="co">#&gt;         {</span>
<span class="co">#&gt;             "@type": "PropertyValue",</span>
<span class="co">#&gt;             "name": "id",</span>
<span class="co">#&gt;             "description": "Subject ID",</span>
<span class="co">#&gt;             "dataType": "string"</span>
<span class="co">#&gt;         },</span>
<span class="co">#&gt;         {</span>
<span class="co">#&gt;             "@type": "PropertyValue",</span>
<span class="co">#&gt;             "name": "pet",</span>
<span class="co">#&gt;             "description": "pet",</span>
<span class="co">#&gt;             "levels": {</span>
<span class="co">#&gt;                 "cat": "Cat Owners",</span>
<span class="co">#&gt;                 "dog": "Dog Owners"</span>
<span class="co">#&gt;             },</span>
<span class="co">#&gt;             "dataType": "string",</span>
<span class="co">#&gt;             "levelsOrdered": false</span>
<span class="co">#&gt;         },</span>
<span class="co">#&gt;         {</span>
<span class="co">#&gt;             "@type": "PropertyValue",</span>
<span class="co">#&gt;             "name": "happy",</span>
<span class="co">#&gt;             "description": "Happiness Score",</span>
<span class="co">#&gt;             "dataType": "float"</span>
<span class="co">#&gt;         },</span>
<span class="co">#&gt;         {</span>
<span class="co">#&gt;             "@type": "PropertyValue",</span>
<span class="co">#&gt;             "name": "followup",</span>
<span class="co">#&gt;             "description": "followup",</span>
<span class="co">#&gt;             "dataType": "int"</span>
<span class="co">#&gt;         }</span>
<span class="co">#&gt;     ]</span>
<span class="co">#&gt; }</span>
<span class="co">#&gt; </span></code></pre></div>
<p>You can also add parameters as lists.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_design.html">sim_design</a></span><span class="op">(</span>plot<span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="va">author_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    <span class="st">"@type"</span> <span class="op">=</span> <span class="st">"Person"</span>,
    <span class="st">"name"</span> <span class="op">=</span> <span class="st">"Melissa Kline"</span>
  <span class="op">)</span>,
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    <span class="st">"@type"</span> <span class="op">=</span> <span class="st">"Person"</span>,
    <span class="st">"name"</span> <span class="op">=</span> <span class="st">"Lisa DeBruine"</span>
  <span class="op">)</span>
<span class="op">)</span>


<span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">dat</span>, return <span class="op">=</span> <span class="st">"list"</span>, 
         author <span class="op">=</span> <span class="va">author_list</span>,
         keywords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"test"</span>, <span class="st">"demo"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; id set to dataType string</span>
<span class="co">#&gt; y set to dataType float</span>
<span class="co">#&gt; Codebook for dat (Psych-DS 0.1.0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Dataset Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * name: dat</span>
<span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span>
<span class="co">#&gt; * author: </span>
<span class="co">#&gt;     1. </span>
<span class="co">#&gt;         * @type: Person</span>
<span class="co">#&gt;         * name: Melissa Kline</span>
<span class="co">#&gt;     2. </span>
<span class="co">#&gt;         * @type: Person</span>
<span class="co">#&gt;         * name: Lisa DeBruine</span>
<span class="co">#&gt; * keywords: </span>
<span class="co">#&gt;     1. test</span>
<span class="co">#&gt;     2. demo</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Column Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * id (string)</span>
<span class="co">#&gt; * y (float): value</span></code></pre></div>
</div>
</div>
<div id="existing-data" class="section level2">
<h2 class="hasAnchor">
<a href="#existing-data" class="anchor"></a>Existing Data</h2>
<p>You can run the codebook function on existing data not created in faux, but will need to manually input column descriptions and factor levels.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">vardesc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    mpg <span class="op">=</span> <span class="st">"Miles/(US) gallon"</span>,
    cyl <span class="op">=</span> <span class="st">"Number of cylinders"</span>,
    disp <span class="op">=</span> <span class="st">"Displacement (cu.in.)"</span>,
    hp <span class="op">=</span> <span class="st">"Gross horsepower"</span>,
    drat <span class="op">=</span> <span class="st">"Rear axle ratio"</span>,
    wt <span class="op">=</span> <span class="st">"Weight (1000 lbs)"</span>,
    qsec <span class="op">=</span> <span class="st">"1/4 mile time"</span>,
    vs <span class="op">=</span> <span class="st">"Engine"</span>,
    am <span class="op">=</span> <span class="st">"Transmission"</span>,
    gear <span class="op">=</span> <span class="st">"Number of forward gears"</span>,
    carb <span class="op">=</span> <span class="st">"Number of carburetors"</span>
  <span class="op">)</span>,
  <span class="co"># min and max values can be set manually or from data</span>
  <span class="co"># min and max are often outside the observed range</span>
  minValue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>mpg <span class="op">=</span> <span class="fl">0</span>, cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span>,
  maxValue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span>,
  dataType <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    cyl <span class="op">=</span> <span class="st">"integer"</span>,
    hp <span class="op">=</span> <span class="st">"integer"</span>,
    vs <span class="op">=</span> <span class="st">"integer"</span>,
    am <span class="op">=</span> <span class="st">"integer"</span>, 
    gear <span class="op">=</span> <span class="st">"integer"</span>,
    carb <span class="op">=</span> <span class="st">"integer"</span>
  <span class="op">)</span>,
  <span class="co"># supply levels to mark factors</span>
  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    vs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0"</span> <span class="op">=</span> <span class="st">"V-shaped"</span>, <span class="st">"1"</span> <span class="op">=</span> <span class="st">"straight"</span><span class="op">)</span>,
    am <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0"</span> <span class="op">=</span> <span class="st">"automatic"</span>, <span class="st">"1"</span> <span class="op">=</span> <span class="st">"manual"</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"Motor Trend Car Road Tests"</span>, 
         <span class="va">vardesc</span>, return <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span>
<span class="co">#&gt; mpg set to dataType float</span>
<span class="co">#&gt; disp set to dataType float</span>
<span class="co">#&gt; drat set to dataType float</span>
<span class="co">#&gt; wt set to dataType float</span>
<span class="co">#&gt; qsec set to dataType float</span>
<span class="co">#&gt; Codebook for Motor Trend Car Road Tests (Psych-DS 0.1.0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Dataset Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * name: Motor Trend Car Road Tests</span>
<span class="co">#&gt; * schemaVersion: Psych-DS 0.1.0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Column Parameters</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * mpg (float): Miles/(US) gallon</span>
<span class="co">#&gt; * cyl (int): Number of cylinders</span>
<span class="co">#&gt; * disp (float): Displacement (cu.in.)</span>
<span class="co">#&gt; * hp (int): Gross horsepower</span>
<span class="co">#&gt; * drat (float): Rear axle ratio</span>
<span class="co">#&gt; * wt (float): Weight (1000 lbs)</span>
<span class="co">#&gt; * qsec (float): 1/4 mile time</span>
<span class="co">#&gt; * vs (int): Engine</span>
<span class="co">#&gt;   * Levels</span>
<span class="co">#&gt;     * 0: V-shaped</span>
<span class="co">#&gt;     * 1: straight</span>
<span class="co">#&gt;   * Ordered: FALSE</span>
<span class="co">#&gt; * am (int): Transmission</span>
<span class="co">#&gt;   * Levels</span>
<span class="co">#&gt;     * 0: automatic</span>
<span class="co">#&gt;     * 1: manual</span>
<span class="co">#&gt;   * Ordered: FALSE</span>
<span class="co">#&gt; * gear (int): Number of forward gears</span>
<span class="co">#&gt; * carb (int): Number of carburetors</span></code></pre></div>
</div>
<div id="interactive-editing" class="section level2">
<h2 class="hasAnchor">
<a href="#interactive-editing" class="anchor"></a>Interactive Editing</h2>
<p>There is an experimental argument to edit the codebook interactively. It runs the codebook function, then asks you to confirm types and edit descriptions. Only run this in the console, not in an RMarkdown file or a script meant to be run non-interactively.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">cb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">mtcars</span>, interactive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Lisa DeBruine.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
